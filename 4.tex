% \chapter{Обзор стандартов и инструментальных средств построения многоагентных систем}
\chapter{Программное и аппаратное обеспечение многоагентной системы технологического назначения}
\label{chap:soft-hard}

Процесс разработки интеллектуальной многоагентной системы с нуля~--- сложная и очень
ответственная задача. Реализация полноценной МАС силами даже большого научного
коллектива практически невозможна. Сложность обусловлена тем, что
разрабатываемая система строится в рамках конкретной
предметной области, следовательно, должна создаваться в первую очередь соответствующими специалистами,
выполнение работ силами только профессиональных программистов
сопряжена с трудностями непонимания ими основных целей разрабатываемой системы.

Решением данной проблемы является чёткое следование существующим стандартам и
применение готовых инструментальных средств. Использование
этих принципов позволит экспертам в заданной предметной области (в~нашем случае
технологической подготовке приборостроительного производства) сконцентрироваться
на интеграции системы в существующую технологическую среду, оставив за скобками
низкоуровневую архитектуру многоагентной системы.
{\looseness=-1

}
 
% На сегодняшний день существует достаточное количество
% специализированных языков программирования и инструментальных средств разработки
% многоагентных систем~\cite{Bordini-2009}. 


% Тем не менее, единственным стандартом
% разработки в этой области остаётся стандарт FIPA.
% 
% В данном разделе будет сделан обзор этого стандарта, а также проведён анализ существующих
% прикладных библиотек. При этом предпочтение будет отдано свободно распространяемым
% инструментам вследствие их более высокой гибкости по сравнению с закрытыми решениями. 

Задача данной главы~--- показать как из существующих на сегодняшний
день многочисленных инструментальных средств создать целостную программно-аппаратную среду,
способную стать единым фундаментом для построения единой информационно-управляющей
платформы технологической подготовки производства.

\section{Программное обеспечение МАС}

Как было показано в~\autoref{chap:mas-theory}, для создания многоагентной системы необходимо как минимум:
\begin{enumerate}
 \item Реализовать протоагент, т.\,е. агент-прототип, для которого не определена модель
 поведения и коммуникационные возможности.
 \item Создать открытую среду, в которой могут существовать агенты.
 \item Разработать протокол взаимодействия агентов, позволяющий в дальнейшем перестраивать
 МАС для решения конкретных задач.
\end{enumerate}

По мнению автора, для того, чтобы связать воедино все эти три компонента в рамках рассматриваемой
предметной области, также необходимо описать специализированный \emph{символьный формат (язык)}%
\footnote{Впервые идея передачи информации в символьном виде были предложена \emph{Григорием Самуиловичем
Цейтиным}~\cite{Ceitin-1982}.
По существу, эта идея лежит в основе создания рассмотренной ниже теории ВСПТД и
представляет собой одну из первых предпосылок для эффективной организации МАС.} представления
технологических данных и знаний, позволяющий создать формализованную основу для дальнейших
разработок.

Традиционно в языках программирования сильны возражения против использования связей между
модулями в виде символьных имён. За этим взглядом стоит не только стремление к
эффективности, но и убеждённость в~том, что имя всегда заменяет некоторый конкретный
объект и имеет смысл лишь в связи с этим объектом. Этому подходу удобно следовать,
пока мы остаёмся в пределах математических задач, на базе которых и выросли традиционные
языки программирования, но реальные ситуации, возникающие за пределами таких задач,
демонстрируют необходимость более широкого использования имён, в частности,
установления связи между независимо построенными программными модулями путём использования
одинаковых имён. Кроме того, представление информации в символьном виде даёт возможность
проводить логический анализ связей между различными объектами, что позволяет
организовать соответствующий аппарат логического вывода, ориентированный
именно на \emph{символьное представление}~\cite{Filippov-1991}.

\subsection{Универсальный формат представления технологических данных и знаний}

На сегодняшний день существует достаточное количество универсальных форматов сериализации 
данных и знаний. К наиболее распространённым можно отнести:

\begin{itemize}
 \item\emph{XML~--- eXtensible Markup Language} (расширяемый язык разметки).
 {\parfillskip=0pt

 }
 \item\textls[-10]{\emph{JSON~--- \E{JavaScript Object Notation}} (объектная нотация языка JavaScript).}
 \item\emph{YAML~--- YAML Ain't Markup Language} (рекурсивный акроним, означающий <<YAML~--- не язык разметки>>).
\end{itemize}

\nomenclature{XML}{eXtensible Markup Language}
\nomenclature{JSON}{JavaScript Object Notation}

Основным достоинством всех вышеперечисленных языков является их широкое распространение,
что подразумевает большое количество готовых инструментальных средств, позволяющих
упростить и стандартизовать работу проектируемой МАС. Тем не менее, у всех их есть и один
существенный недостаток~--- все рассматриваемые форматы являются универсальными,
т.\,е.~дают возможность работать с данными в любых предметных областях. Поэтому эти форматы
могут быть использованы только лишь в качестве контейнеров, способных упростить
обработку, анализ, хранение и передачу структурированной текстовой информации, но не
её семантическое представление. Последнее положение
обосновывает необходимость поиска специализированного
языка, учитывающего особенности рассматриваемой предметной области.
{\parfillskip=0pt

}

Проведённый
анализ показал, что среди немногочисленных специализированных языков представления технологических
данных и знаний наиболее целесообразно использовать язык, являющийся методологической основой
теории \emph{виртуального строкового пространства технологических данных (ВСПТД)}.
Выбор обусловлен имеющимся положительным опытом применения ВСПТД для решения задач
технологической подготовки производства,\footnote{%
Методология виртуального строкового пространства технологических данных была положена
в~основу системы автоматизированного проектирования
технологических процессов <<ТЕХКОМ>>, используемой ранее на многих
отечественных предприятиях~\cite{Filippov-1989,Texcom-1993}.} простотой синтаксиса данного языка, а~также возможностью
единообразно представлять данные и знания в символьной форме, что является
несомненным преимуществом при создании многоагентной системы технологического назначения.

Методология ВСПТД предполагает
создание единой информационной среды описания технологических данных и знаний,\footnote{%
Отсюда следует, что более корректно было бы обозначить рассматриваемую методологию как
\emph{ВСПТДиЗ}, т.\,е. Виртуальное Строковое Пространство Технологических Данных
и Знаний, но термин уже устоялся, поэтому возможность работы не только с данными, но и
со знаниями предполагается, но~явно не декларируется.} основным структурным элементом которой
является триплексная строка. Триплексная строка~--- это~интеллектуальный
объект с универсальным языком. С помощью триплексных строк можно
описывать самые разные структуры данных и знаний.\footnote{Например,
для представления параметризованной геометрической информации из CAD-систем, с~последующей обработкой полученных параметров
в АСТПП~\cite{Sisukov-2007,my_4,my_5}.} Машина логического вывода оперирует триплексными
строками, опираясь на имеющиеся \emph{факты} и пытается достичь
поставленных перед ней \emph{целей}~\cite{my_6}.
% Подобное интеллектуальное поведение выходит далеко
% за рамки классического объектно-ориентированного подхода к проектированию
% сложных систем и вплотную подводит нас к понятию интеллектуального агента.

Теория ВСПТД во многом обогнала своё время, и сейчас мы видим,
что большинство положений, ставших основой ВСПТД, могут быть легко перенесены
в современные условия, что позволит создать на его основе гибкую и легко масштабируемую
многоагентную систему.

% исследование возможностей которой станет предметом
% представленного исследования. Далее будут рассмотрены важнейшие постулаты концепции
% ВСПТД и выделены основные компоненты, нуждающиеся в дополнительном анализе
% и развитии.
Рассмотрим основные положения теории ВСПТД более подробно, начав с описания трёх базовых
понятий: \emph{триплет}, \emph{факт} и \emph{цель}.

Триплет является специализированным символьным объектом, форма которого представлена на
\autoref{fig:trp}. В данном случае, под объектом понимается определённая сущность (математическая
абстракция), находящаяся в~виртуальном пространстве (среде) и обладающая определённым
состоянием и~поведением, чётко выделяющимися на фоне среды и фоне своей собственной
структуры, т.\,е. частей, из которых состоит рассматриваемый объект. Объект существует
только внутри среды, являясь при этом внутренней границей этой среды. Объект и
среда взаимодополняют друг друга.

\begin{figure}[t!]
\begin{center}
  \begin{tikzpicture}[
        font={\sffamily\footnotesize},
        nodes={
                draw,
                node distance=8mm,
                text height=1ex,
                text depth=.25ex,
                minimum height=6mm,
                rounded corners=2mm,
                text centered
       }
]

\node (a) {объект};
\node (b) [right=of a] {имя характеристики};
\node (c) [right=of b] {\bfseries отношение};
\node (d) [right=of c] {значение};
\node (e) [right=of d] {\bfseries комментарий};

\path [draw] (a) -- (b) -- (c) -- (d) -- (e);

\end{tikzpicture}
\end{center}
\caption[Общая схема представления триплета]
        {Общая схема представления триплета}
\label{fig:trp}
\end{figure}

Технологические объекты как понятия впервые рассмотрены в работе~\cite{Tamm-1986}.
Теория ВСПТД вводит символьное представление этих понятий. Нетрудно заметить,
что подобная организация триплексных строк позволяет легко оперировать с любыми
технологическими объектами, как существующими, так и вновь создаваемыми.
Указанный подход позволяет отказаться от необходимости создания всё новых и новых
интерфейсов для обмена информацией, что, по мнению автора, является незаменимым
свойством при проектировании открытых одноранговых систем интеграции.

Проектирование технологических процессов средствами ИУП ТПП сопряжено с постоянной
обработкой огромного количества разнородных данных, генерируемых структурными
компонентами платформы. Часть данных попадает в систему в процессе диалога с
пользователем (например, требуемые параметры материала или описание заготовки),
часть выбирается из различных информационных баз данных, часть получаются
расчётным путём и~т.\,д. Следовательно, необходимо определить такую структуру данных и знаний,
которая позволила бы осуществлять бесшовную интеграцию вычислительных модулей
и систем.
Как уже было отмечено выше, в качестве подобной универсальной структуры в теории
ВСПТД используется триплет. Рассмотрим варианты применения данной структуры более подробно.

Триплеты, описывающие
данные, которыми информационно-управляющая платформа технологической подготовки
производства оперирует в~текущий момент, называются фактами.
%
\begin{equation}
\varPhi=\langle Prefix,Name,Value \rangle\text{,}
\end{equation}
%
где $Prefix$~--- префикс, $Name$~--- имя параметра, $Value$~--- значение параметра.

В представленном формальном описании префикс задаёт контекст параметра, т.\,е. указывает на
конкретный объект в предметной области. Например, если \verb!SIGMA!~--- имя параметра,
обозначающая предел прочности описываемого объекта, то выражение \verb!МТ.SIGMA! будет
обозначать предел прочности материала, в случае если \verb!MT!~--- это префикс, указывающий на
объект <<материал>>. То есть \verb!MT!~--- это множество всех  технологических характеристик
объекта <<материал>>, а \verb!MT.SIGMA!~--- один из элементов этого множества.
Текс\-товые параметры объекта заключаются в апострофы, чтобы отличать их от~числовых
параметров, переносы строк внутри текстовых параметров интерпретируются как пробелы.
Подобное представление фактов ВСПТД удобно для реализации продукционных правил вывода, а также сопутствующих
пояснений. Помимо этого, для реализации функций нечёткой логики~\cite{Zadeh-1976, my_1}
значение каждого факта может быть снабжено некоторым коэффициентом уверенности (см.~ниже). Таким
образом, формируется некоторое множество (пространство) фактов $\mathcal{F}$, которое в
процессе работы ИУП ТПП размещается в ВСПТД~\cite{Filippov-1989}:
%
\begin{equation}
    \mathcal{F}=\bigcup\varPhi_i\text{, где }\varPhi_i\text{~--- триплет \emph{i}-го факта.}
\end{equation}

В процессе взаимодействия компонентов информационно-управляющей платформы
технологической подготовки производства постоянно возникает
необходимость получения новых фактов. Ранее неизвестные системе триплеты именуются
целями. Префикс и имя триплета цели записываются точно также, как и в триплете факта, а вот
<<значение>> должно быть задано по следующей формуле (схеме):
~
\begin{equation}
\textit{Префикс}.\textit{\textbf{Имя}}=\textit{Заявка};
\end{equation}

Подобный триплет в теории виртуального строкового пространства технологических данных именуется <<простой целью>>.
Задача информационно-управляющей платформы технологической подготовки производства~---
заменить заявку данного триплета на некоторое значение:
%
\begin{itemize}
    \item либо используя информационно-поисковую систему;
    \item либо расчётным или логическим путём на основе уже имеющихся в~системе фактов;
    \item либо с помощью лица, принимающего решение (ЛПР).
\end{itemize}

Получение фактов
может быть как жёстко регламентировано, так и~быть
получено с помощью специальной управляющей структуры:
%
\begin{equation}
\label{eq:control-struct}
\varPsi=\langle Prefix,Name,Mode,Number \rangle\text{,}
\end{equation}
%
где $Prefix$~--- префикс, $Name$~--- имя параметра, $Mode$~--- способ достижения цели,
$Number$~--- идентификатор исполняющей функции.

Очевидно, что представленная управляющая структура не всегда обладает исчерпывающей
информацией о том, какие конкретно факты необходимы для корректного исполнения
правил. Эти сведения предоставляют сами исполняющие правила в виде \emph{триплетов цели}.
В качестве заявки триплету цели может быть передан специальный управляющий символ
(<<\verb!:!>>, двоеточие), произвольная информация (\verb!:любой-поддерживаемый-тип-данных!),
либо пустое значение (что указывает на необязательность заполнения данного триплета,
т.\,е. он относится к категории триплетов с необязательной целью). Управляющий символ
<<\verb!:!>> указывает на то, что рассматриваемый триплет является триплетом с
обязательной целью и его заполнение в \mbox{зависимости} от контекста и уровня формализации
должно быть произведено любым из~трёх указанных выше способов. Если в качестве
значения заявки триплету передано произвольное значение, это означает, что данный
триплет будет заполнен без участия ЛПР, т.\,е. напрямую выбрано из виртуального строкового пространства технологических данных, а в
случае его отсутствия~--- будет использоваться текст после
управляющего символа <<\verb!:!>>. Например, триплет цели \verb!$MT.SIGMA=:1000;! будет
преобразован к виду триплета факта \verb!$MT.SIGMA=1000;! и станет триплетом
с наложенным значением. Таким образом, в процессе проектирования
появляется множество целей~$\mathcal{C}$:
%
\begin{equation}
\mathcal{C}=\bigcup\mathcal{C}_i,\text{ где }\bigcup\mathcal{C}_i\text{~--- триплет \emph{i}-й цели.}
\end{equation}
%
Кроме того, может быть два типа сложных целей:
%
\begin{enumerate}
\item Объектная (структурированная) цель.
\item Составная цель.
\end{enumerate}

Объектная (структурированная) цель ожидает получения всей информацию по заданному объекту,
в соответствии с его префиксом. Например, по~заявке \verb!$MT.=;! из виртуального
строкового пространства технологических данных будет
извлечена вся информация о текущем материале, т.\,е. множество фактов с префиксом
\verb!MT!. Объектная цель обязательного типа (\verb!$MT.=:;!)
будет преобразована в множество простых обязательных целей согласно структуре
заданного объекта. Составная цель может быть получена из некоторой
фразы содержащей факты, цели, и объяснения. Например следующее выражение:

{\singlespacing
\begin{lstlisting}[
    language=python,showstringspaces=false,basicstyle=\ttfamily,
    numbers=left,numberstyle=\footnotesize,numbersep=5pt,frame=tb,
    caption={Пример триплексной строки, описывающей переход}
]
$L.WOB=019; "притереть";"поверхность"
$L.KE =:;   "выдерживая требования"
$D.TT =:;
\end{lstlisting}}

\noindent включает в себя факт, простые цели и объяснения. После заполнения
всех целевых заявок будет получен текст перехода, готовый для
передачи специализированному генератору отчётов.

В процессе проектирования триплеты группируются в \emph{триплексные строки}
и помещаются в виртуальное строковое пространство
технологических данных. В дальнейшем под \emph{триплексной
строкой} будем подразумевать некоторое множество фактов и целей, объединённых
одним ключом. А виртуальное строковое пространство технологических данных~---
это множество триплексных строк~\cite{Sisukov-2007}.

Описанный механизм позволяет в рамках рассматриваемой задачи работать
со всеми основными типами и структурами данных (целыми и вещественными
числами, строками, массивами, списками, кортежами, множествами, хэш-таблицами и~др.),
формировать на их основе более сложные структуры, например, графы
или многосвязные списки.
Также определены три базовые структуры представления знаний: \emph{синтагмы}, \emph{фреймы} и \emph{продукционные правила}.


\subsubsection[Cинтагмы]{Синтагмы%
%
\footnote{Синт\'{а}гма (др.-греч. $\sigma\acute{\upsilon}\nu\tau\alpha\gamma\mu\alpha$, букв.
<<сопорядок>>, от др.-греч. $\sigma\acute{\upsilon}\nu$ <<с>> и др.-греч.
$\tau\acute{\alpha}\gamma\mu\alpha$ <<порядок>>)~--- многозначный термин,
который может быть переведён как классификация, систематизация, компоновка, расстановка.%
%TODO: ССЫЛКА НА ПЕДИВИКИЮ ИЛИ ЛЮБОЙ ДРУГОЙ СЛОВАРЬ ЗДЕСЬ
}}

Синтагмы и синтагматические
цепи относятся к классу логико-лингвистических методов представления знаний.
Синтагма представляет собой выражение $A \boldsymbol{\rho} B$,
где $A$ и $B$~--- некоторые понятия или объекты, а $\boldsymbol{\rho}$~--- отношение
между ними с квантификаторами, модификаторами,
либо оценками. Например, если если префикс \verb!L! задаёт множество элементов
обработки, а~\verb!_PER_! обозначает отношение перпендикулярности, выражение:
\vspace{-10pt}
\begin{verbatim}
                   $L13 _PER_ $L8;$L7 _PER_ $L4;
\end{verbatim}
будет означать, что поверхность
\verb!13! перпендикулярна поверхности \verb!8! и поверхность \verb!7! перпендикулярна поверхности \verb!4!.
Также в синтагму можно включать дополнительную информацию в виде
смысловой оценки~\cite{Bruevich-1978}, значение которой определяется из контекста рассматриваемого отношения, поэтому
выражение \verb!$L5 _NEPER_ $L7 "<0.02";! обозначает неперпендикулярность поверхности \verb!5! к поверхности \verb!7! не
более, чем на \verb!0.02!.

\subsubsection{Фреймы}

Термин \emph{фрейм} (от англ. \emph{frame}~--- <<каркас>> или <<рамка>>) впервые был предложен
Марвином Минским~\cite{Minsky-1981, Gavrilova-2000} в конце 70-х годов для обозначения структуры
знаний, представляющий собой схему действий в реальной ситуации.
Фрейм представляет собой комплексный пакет знаний, хранимый в~человеческом сознании,
либо в памяти компьютера. Каждый фрейм содержит отделения~--- \emph{слоты}, в которых
собраны атрибуты (характеристики) и~соответствующие им значения.
Например, абстрактный образ <<\emph{фрезерный станок}>>, будучи произнесённым
вслух порождает у слушающих некоторый образ: <<металлорежущий станок, главным
движением которого является вращение неподвижно закреплённой в патроне фрезы,
а обработка осуществляется за счёт подачи стола, на котором закреплена заготовка>>.
Из данного описания ничего нельзя убрать, но в нём есть определённые отделения~---
\emph{слоты}, в которых собраны атрибуты (характеристики) и соответствующие им значения,
например <<\emph{главное движение}>> или <<\emph{инструмент}>>.

В теории фреймов подобный образ называется фреймом фрезерного станка, фреймом также
называется и формализованная модель для отображения образа.
Это самые простые фреймы, Минским также предложены и гораздо более сложные взаимозависимые
структуры знаний, фреймы которых в своих слотах могут содержать другие фреймы и
входить в состав более крупных фреймов. Программа, имеющие в своём распоряжении достаточное
количество фреймов, может искать в предложении символы, совпадающие с теми,
которые хранятся в имеющихся слотах, вовлекая в работу и все
родственные фреймы. Таким образом, система может выводить знания, отсутствующие
в~явном виде в исходных данных.

Различают \emph{фреймы-образцы}
или \emph{фреймы-прототипы}, хранящиеся в~базе знаний, и \emph{фреймы-экземпляры}, которые создаются
для отображения реальных фактических ситуаций на основе поступающих данных.
Рассматривая теорию фреймов как один из основополагающих методов представления
знаний, в теории ВСПТД описан метод, позволяющий интегрировать технологические знания при
взаимодействии различных элементов ТПП. За~основу в этом механизме взято
единое представление элементарных фактов и целей. То есть в качестве основной
единицы представления фрейма-слота в~теории ВСПТД предложен триплет.
Можно выделить следующие основные группы представления технологических знаний в виде фреймов:
фреймы-переходы и фреймы-операции, фреймы-формулы, фреймы-таблицы, фреймы-продукции,
фреймы-терминалы, фреймы-документы, фреймы-объяснения и фреймы-запросы.
{\looseness=-1

}

В данном перечне дополнительного объяснения требуют только \emph{фреймы-терминалы}.
Фрейм-терминал представляет собой триплексную строку, содержащую факты и цели.
На их основании строиться диалог с пользователем (форма), при этом факты
описывают статические элементы формы, а цели~--- поля, которые пользователю
необходимо заполнить.

\subsubsection{Продукционные правила}

Продукционные правила (продукции) представляют собой структуру представления знаний вида
\verb!ЕСЛИ (Условие) ТО (Действие)!. Условия продукций включают в себя
обычные функции сравнения текстовых и числовых величин, арифметические
выражения и тригонометрические функции, а~также предикаты
\verb!ЕСТЬ! и \verb!НЕТ!, проверяющие соответственно наличие (отсутствие)
указанного параметра в ВСПТД. Правила вывода разбиваются на~группы по~выполняемым
функциям. Каждой группе присваивается постоянный номер,
который используется управляющей структурой при определении
последовательности их исполнения~\cite{Sisukov-2007}.

\textls[-35]{Каждая продукция может быть снабжена коэффициентом уверенности, т.\,е.~априорной оценкой
истинности того или иного результата (факта). Коэффициент уверенности представляет собой
целое число в диапазоне от~-100 до~100 (на самом деле от -1 до 1, но для удобства
отображения все коэффициенты уверенности умножаются на 100). Здесь коэффициент
уверенности 100 означает <<совершенно точно, что\ldots>>, -100~---
<<совершенно точно, что не\ldots>> (отрицательное значение коэффициента
уверенности указывает на то, что данное правило опровергает сформулированное заключение),
а 0~--- <<неизвестно>>~\cite{my_6}. В случае конфликта, т.\,е.~наличия
в базе знаний двух продукций, описывающих суждения об одном и том же
понятии, результирующий коэффициент уверенности $\mathcal{K}(X,Y)$
рассчитывается по следующей формуле:}

{\singlespacing
\[
\mathcal{K}(X,Y) =
\begin{dcases*}
    (X+Y)-(X\cdot Y), & при $X>0$ и $Y>0$\\
    (X+Y)+(X\cdot Y), & при $X<0$ и $Y<0$\\
    \frac{X+Y}{1-min(|X|,|Y|)}, & при ($X>0$ и $Y<0$) или ($X<0$ и $Y>0$)\\
    X, & при $X\neq 0$ и $Y=0$\\
    Y, & при $X=0$ и $Y\neq 0$\\
    0, & при $X=0$ и $Y=0$
  \end{dcases*}
\]}

\textls[-55]{Все базовые положения теории ВСПТД, представленные выше, могут быть использованы для
создания универсального формата описания технологических данных и знаний.
% но требуют некоторой доработки, описание которой будет дано в следующих разделах.
Подробное описание языка представления данных и знаний многоагентной
информационно-управляющей платформы технологической подготовки производства,
представленное в расширенной форме Бэкуса-Наура представлено в~\autoref{app:bnf}.}

\subsection{Реализация протоагента}
\label{sec:protoagents}

Протоагент представляет собой автономный программный модуль\footnote{%
В соответствии с ГОСТ~19781--90~\cite{GOST-19781-90}, \emph{программный модуль}
(\E{program module})~--- программа или функционально завершённый
фрагмент программы, предназначенный для хранения, трансляции, объединения с другими
программными модулями и загрузки в оперативную память.} (в~общем
случае экземпляр класса), обладающий
уникальным идентификатором, набором слотов, в которые могут быть записаны
транспортные адреса, а~также контекстами поведения. Протоагент связан с
определённым технологическим объектом (или пользователем) через внутренний интерфейс.
Наличие контекста даёт возможность создавать распределённую
сетевую структуру, в которой могут взаимодействовать подобные абстрактные агенты.
Архитектура рассматриваемого \emph{протоагента}
представлена на \autoref{fig:net-frame}.
{\parfillskip=0pt

}


\begin{figure}[t!]
    \centering
    \includegraphics[width=0.55\textwidth]{net-frame.eps}
    \caption[Архитектра протоагента]
            {Архитектра протоагента}
    \label{fig:net-frame}
\end{figure}

\textls[-35]{Контекст, в котором существует протоагент может включать набор ассоциированных с
ним поведенческих характеристик. Данные характеристики могут влиять на внутреннее
поведение агента. Для разных контекстов будут определены разные модели поведения
протоагента. Контексты могут быть упорядочены в~иерархическую структуру,
т.\,е.~содержать подконтексты. Таким образом, контексты при необходимости могут быть разделены
на~компоненты, при этом членство в контекстах наследуется.}

Протоагентом данная модель называется потому, что имеет лишь потенциальную
возможность к взаимодействию в агентной среде, т.\,к. в ней, во-первых, не
определено внутреннее поведение (лишь контекст технологического процесса, конкретная
модель поведения будет присвоена агенту при инициализации), а во-вторых, не
задан механизм поиска других агентов в сети.
{\looseness=-1\parfillskip=0pt

}

\textls[-35]{Основной задачей протоагента является создание стандартизованного
внутреннего интерфейса, позволяющего связывать его с объектом, который он
представляет: интегрируемой системой автоматизации или пользователем. Вопросы
взаимодействия с пользователем будут подробно описаны в~\autoref{chap:realize},
далее же будет рассмотрена реализация абстрактных методов интеграции протоагента
с~автоматизированной системой (подразумевается, что независимо от типа интеграции возникает
необходимость конвертирования данных и знаний, возникающих в~процессе
информационного обмена интегрируемых систем из\slash в  формат ВСПТД).}
{\parfillskip=0pt

}

Проведённое исследование показало, что существуют всего три основных способа
интеграции протоагента с системой автоматизации технологической подготовки производства:
\begin{enumerate}
 \item Через COM-интерфейс системы.
 \item По протоколу XML-RPC.
 \item Через специфический интерфейс программирования приложения\\(\E{Application Programming Interface}~--- API).
\end{enumerate}

\textls[-35]{Ниже будет продемонстрирована реализация первых двух способов.
Последний вариант встречается крайне редко, поэтому в представленном
исследовании рассматриваться не будет~--- специфический API требует
индивидуального подхода в каждом конкретном случае, следовательно практически
не может быть стандартизирован.}

\subsubsection{Интеграция по протоколу XML-RPC}

\textls[-55]{Протокол XML-RPC (\emph{\E{Extensible Markup Language Remote Procedure Call}}~--- XML-вызов
удалённых процедур)~\cite{Rivera-2009}
является универсальным интеграционным протоколом, используемым многими автоматизированными системами
для взаимодействия по~сети. Отличительной особенностью этого протокола является
его простота, обусловленная в~первую очередь использованием уже готового стандарта XML.
Данный механизм поддерживается многими современными системами, такими как: ProEngineer, ENOVIA
SmarTeam, OpenERP, TechCard (частично) и многими другими. Как уже отмечалось выше
формат XML прекрасно подходит для инкапсуляции символьных данных, к~которым
относятся и триплексные строки ВСПТД. Реализация базового модуля, обеспечивающего
агенту XML-RPC интерфейс представлена в листинге~\ref{lst:xml-rpc}, модуль разработан на
языке Python. Приведена только основная часть алгоритма без обработчиков исключений и
вспомогательных методов.}

\pagebreak

{\singlespacing
\begin{lstlisting}[
    language=python,showstringspaces=false,basicstyle=\ttfamily,
    numbers=left,numberstyle=\footnotesize,numbersep=5pt,frame=tb,
    caption={Базовый модуль XML-RPC интерфейса},label=lst:xml-rpc
]
# Импорт модуля ВСПТД
import vsptd

# Ипморт методов для работы с XML-RPC
from xmlrpclib import ServerProxy


class AgentXMLRPC(object):
    """Реализует интеграцию агента с автоматизированной
    системой по протоколу XML-RPC.
    """

    def __init__(self, addr):
        """Инициализирует объект класса.
        Аргументы:
            addr: адрес xml-rpc сервера.
        """

        # Обращению к машине, на которой установлена
        # интегрируемая система
        self.server = ServerProxy(addr)

    def call_func(self, func, trp_str):
        """Вызывает функцию интегрируемой системы.
        Аргументы:
            func: имя вызываемой функции.
            trp_str: триплексная строка.
        Возвращаемое значение:
            Объект, полученный в результате обработки.
        """

        # Получить параметры функции из
        # триплексной строки
        params = vsptd.get_params(trp_str)

        return getattr(self.server, func)(*params)
\end{lstlisting}}


Например, агенту необходимо получить перечень параметров
материала \verb!Lustran QE 1088! из связанной с ним PDM
системы, в интеграционном интерфейсе которой определена
функция \verb!GetMaterialParams!.
Пример использования данного модуля представлен в листинге~\ref{lst:xml-rpc-example}.

{\singlespacing
\begin{lstlisting}[
    language=python,showstringspaces=false,basicstyle=\ttfamily,
    numbers=left,numberstyle=\footnotesize,numbersep=5pt,frame=tb,
    caption={Пример использования модуля XML-RPC интерфейса},label=lst:xml-rpc-example
]
interface = AgentXMLRPC('localhost:8000')
print intreface.call_func(
    'GetMaterialParams',
    '$MT.NMAE="Lustran QE 1088"'
)
\end{lstlisting}}

\noindent В данном случае модулем будет сгенерирован XML-документ вида:

{\singlespacing
\begin{lstlisting}[
    language=xml,showstringspaces=false,basicstyle=\ttfamily,
    numbers=left,numberstyle=\footnotesize,numbersep=5pt,frame=tb,
    caption={Запрос серверу по протоколу XML-RPC}
]
<?xml version="1.0"?>
 <methodCall>
  <methodName>GetMaterialParams</methodName>
   <params>
    <param>
     <value><string>Lustran QE 1088</string></value>
    </param>
  </params>
 </methodCall>
\end{lstlisting}}

\noindent Сервером будет возвращён следующий ответ:\footnote{Необходимо обратить внимание на
тэг \emph{struct}, описывающий массив элементов с ключами. Нетрудно заметить, что
данная структурная единица протокола XML-RPC представляет триплексную строку, содержащую набор фактов.}

{\singlespacing
\begin{lstlisting}[
    language=xml,showstringspaces=false,basicstyle=\ttfamily,
    numbers=left,numberstyle=\footnotesize,numbersep=5pt,frame=tb,
    caption={Ответ сервера по протоколу XML-RPC}
]
<?xml version="1.0"?>
<methodResponse><params><param><struct>
     <member>
      <name>Плотность</name>
      <value><double>1.06<double></value>
     </member>
     <member>
      <name>Трекинг индекс</name>
      <value><i4>600</i4></value>
     </member>
</struct></param></params></methodResponse>
\end{lstlisting}}

\subsubsection{Интеграция через COM-интерфейс}

Технология СОМ (Component Object Model\footnote{англ. \emph{объектная модель компонентов.}})~\cite{Gray-1998, Oberg-2000},
разработанная компанией Microsoft, представляет собой платформонезависимую
распределённую объектно-ориентированную систему для создания приложений, взаимодействующих друг с другом.

COM является даже более распространённой технологией, чем XML-RPC. По мнению автора, единственным её
недостатком является чрезмерная сложность, особенно при реализации работы по сети. Поэтому
разработчики, зачастую, реализуют в своих системах оба этих интерфейса, что добавляет
гибкости используемому в работе подходу к интеграции.Основными достоинствами данной технологии являются:
\begin{itemize}
\item Полная независимость от используемого языка программирования. Так же как и XML-RPC,
данная технология является лишь способом обращения к внутреннему интерфейсу
интегрируемого приложения, единственное отличие~--- ориентация на объектную, а не
процедурную модель.
{\looseness=-1\parfillskip=0pt

}
\item Возможность расширять приложение без необходимости пересборки.
{\parfillskip=0pt

}
\item Возможность взаимодействовать с другими объектами вне зависимости от рабочей среды.
\item Стандартизация объектно-ориентированного программирования, включающая: типы объектов, стандартные методы, соглашения обозначений, инкапсуляцию.
\end{itemize}

Данными, относящимися к COM объекту, можно манипулировать через его интерфейсы. Автором был разработан
модуль, позволяющий управлять интерфейсами автоматизированных систем, имеющими COM API. Реализация модуля представлена
в~листинге~\ref{lst:com}.

\pagebreak

{\singlespacing
\begin{lstlisting}[
    language=python,showstringspaces=false,basicstyle=\ttfamily,
    numbers=left,numberstyle=\footnotesize,numbersep=5pt,frame=tb,
    caption={Базовый модуль COM интерфейса},label=lst:com
]
# Импорт методов COM интерфейса
from win32com.server.register import UseCommandLine
from win32com.client import Dispatch

class AgentCOM():
    """Реализует интеграцию агента с системой
    автоматизации по протоколу COM.
    """
    
    # Параметры публичного интерфейса
    _public_methods_ = ['CallFunction']
    _reg_progid_ = 'AgentCOM'
    _reg_clsid_ =
        '{79A29526-F93B-4E38-96C2-7E5DB85BC4CB}'

    def CallFunction(self, fname, *args):
        """Вызывает функцию интегрируемой системы.

        Аргументы:
            fname: имя вызываемой функции.
            args: список аргументов.

        Возвращаемое значение:
            Объект, полученный в результате обработки.
        """
        # импорт функции расширения
        module = __import__(fname, globals(), locals(),
                           [fname], -1)
        # Последовательная обработка аргументов
        # диспетчером
        args = [Dispatch(arg) for arg in args]
  
        return getattr(module, fname)(*args)

if __name__ == '__main__':
    # Регистрация COM сервера
    UseCommandLine(AgentCOM)
\end{lstlisting}}

Вызов рассмотренной выше функции \verb!GetMaterialParams! может быть реализован с помощью
следующего модуля:

{\singlespacing
\begin{lstlisting}[
    language=python,showstringspaces=false,basicstyle=\ttfamily,
    numbers=left,numberstyle=\footnotesize,numbersep=5pt,frame=tb,
    caption={Пример использования модуля COM интерфейса}
]
def GetMaterialParams(trp_str):

    params = vsptd.get_params(trp_str)
    return CallFunction('GetMaterialParams',
                         params)

print GetMaterialParams('$MT.NMAE="Lustran QE 1088"')
\end{lstlisting}}

В данном случае функция будет загружена в COM-сервер и
запущена в~качестве локального объекта.


\subsection{Онтологический словарь многоагентной системы}
\label{sec:vsptd-ontology}

В теории виртуального строкового пространства технологических данных определено понятие
\emph{словарь метаданных (СМД)}.  С помощью
СМД осуществляется контроль за данными, некоторыми элементами синтаксиса и
\nomenclature{СМД}{Словарь метаданных}
семантики базы знаний виртуального строкового пространства технологических данных, обеспечивается лингвистическое обеспечение системы
при ведении диалога и формировании отчётов. Принципиально важной
функцией словаря является обеспечение интерфейса с пользователем на понятийном
уровне.  Все элементы предметной области имеют общий
механизм интерфейса понятий. Это позволяет избавить пользователя от необходимости
работы с кодируемой информацией. В каждом описываемом в словаре метаданных реквизите содержится,
как минимум, следующая информация: мнемоническое обозначение, полное наименование,
формат и способ получения реквизита.
Очевидно, что роль словаря метаданных в многоагентных системах резко возрастает.
{\parfillskip=0pt

}

На основании проведённого исследования автором предлагается расширить понятие словаря метаданных,
добавив в него \emph{семантические онтологии}. Онтологии позволят агентам
не просто оперировать данными и знаниями в~виде триплексных строк, но
осуществлять преобразование понятий, которые при обычном подходе могли
вызвать трудности, связанные с дублированием. Помимо преобразования
символьных понятий онтология является универсальным инструментом
для преобразования знаний за счёт введения в её структуру присоединённых
процедур.

Согласно \cite{Gavrilova-2000},
онтология~--- эксплицитная\footnote{От англ. \emph{explicit}~--- <<явный>>,
<<открыто выраженный>>.} спецификация концептуализации предметной области
(как правило таксономическая\footnote{Таксон\'омия (от др.-греч.
$\tau\acute{\alpha}\xi\iota\varsigma$~--— строй, порядок и $\nu\acute{o}\mu o\varsigma$~---
закон)~--- учение о принципах и практике классификации и~систематизации.}),
представляющая собой словарь метаданных и знания
о предметной области во внешнем представлении, которое может транслироваться во
внутреннее представление агентов.
Пример онтологических разделов словаря метаданных
технологических терминов приведён в~\autoref{app:a}.

Классическая онтология состоит из следующих частей:
%
\begin{itemize}
\item Множество концептов~--- понятий.
\item Отношения между концептами.
\item Атрибуты и свойства концептов.
\item Ограничения на свойства и атрибуты.
\item\textls[-70]{Экземпляры и присоединённые процедуры, заданные в форме линейных списков.}
\item Знания из предметной области.
\end{itemize}

То есть, с одной стороны онтологический словарь может быть плоской структурой,
описывающий отдельные концепты, а с другой~--- являться классификатором
этих концептов за счёт наличия отношения наследования.

Онтология виртуального строкового пространства технологических данных может быть задана следующим \mbox{кортежем}:
%
\begin{equation}
\mathcal{O}=\langle \mathcal{T},\mathcal{R},\mathcal{I} \rangle\text{,}
\end{equation}
%
где $\mathcal{T}$~--- множество триплетов (концептов),
$\mathcal{R}$~--- множество отношений между ними,
$\mathcal{I}$~--- множество интерпретаций.

Использование онтологий позволяет отделить
семантику используемых в~процессе проектирования ТПП понятий от непосредственно
данных, которые они представляют. Подобное разделение необходимо
при проектировании языка взаимодействия технологических агентов, ведь,
как уже отмечалось ранее, агенты внутри ИУП ТПП должны стать универсальными
преобразователями данных и знаний, т.\,е. для их успешного функционирования
необходимо избавиться от двусмысленности понятий.

Особенно важную роль словарь играет при взаимодействии c действующими (внешними)
БД, имеющимися на предприятии. Например, в~одной из~баз данных режущего
инструмента поле диаметр обозначается как \verb!DIAM!, а~в~другой~---
\verb!DIAMETR!, в~то~время как в ВСПТД параметр обозначен как \verb!E.D!. Для таких случаев
в словаре метаданных вводится графа, обеспечивающая соответствие имён, содержание которой в
данном примере может быть таким:
{\looseness=+1

}

\begin{lstlisting}[
    language=python,showstringspaces=false,basicstyle=\ttfamily,
    numbers=left,numberstyle=\footnotesize,numbersep=5pt,frame=tb,
    caption={Пример преобразования понятий в СМД}
]
$I1.DIAM; $I2.DIAMETR;
\end{lstlisting}
%
\textls[-35]{Где $I_1$ и $I_2$ указывают на базы данных, используемые системой в текущий момент.}

Для унификации представления знаний в онтологиях предлагается инкапсулировать
триплексные строки в контейнер, применяя
вышеописанный формат JSON
по аналогии с языком запросов MQL, используемый для доступа к базе знаний \emph{Freebase}~\cite{Bollacker-2008}.
Однако, предлагаемый автором подход является более гибким вследствие того, что
ВСПТД~--- это универсальный формат для представления данных и знаний, JSON для
него всего лишь удобная обёртка, а MQL~--- просто язык запросов,
использующий синтаксис формата JSON.

Например, сообщение, описываемое подклассом понятий, относящихся
к~суперклассу \emph{материал}, может быть задано следующим образом:

{\singlespacing
\begin{lstlisting}[
    language=python,showstringspaces=false,basicstyle=\ttfamily,
    numbers=left,numberstyle=\footnotesize,numbersep=5pt,frame=tb,
    caption=Использование обертки JSON для представления метаданных онтологии
]
{"-name"   : "Параметры полимерных
              композиционных материалов",
 "-prefix" : "PCM", // Определяет иерархическую связь
 "-row"     : [
    { "denom"   : "Объёмное сопротивление",
      "format"  : "9999", // Формат записи
      "name"    : "$PCM.VOLRES", // Имя концепта
      "synonims": ["Volume Resistivity",
                   "R_объём."],
      "glinks"  : ["$PCM.RES"], // Общие связи
      "procs"   : ["pcm.get_volres"], // Присоединённые
                                     // процедуры
      "params"  : [{"стандарт":"ASTM D 257",
                    "ед.изм.":["Ом*см", "Omh*cm"]},
                   {"стандарт":"IEC 60093",
                    "ед.изм.":["Ом*м", "Omh*m"]},
                  ] // Дополнительные параметры
    }
 ]
}
\end{lstlisting}}

Гибкая структура ВСПТД триплетов позволяет динамически модифицировать
онтологический словарь многоагентной системы вводя в его структуру различные свойства,
знания и отношения в соответствие с рассматриваемой предметной областью.

\subsection{Протокол взаимодействия агентов}
\label{sec:FIPA-standards}

Протокол взаимодействия агентов внутри МАС стандартизован
\emph{Фондом интеллектуальных физических агентов} (\E{Foundation for Intelligent Physical Agents}~--- FIPA)~\cite{Bellifemine-2007}.
Данная некоммерческая организация является 11 комитетом \emph{Института инженеров
по электротехнике и электронике} (\E{Institute of Electrical and Electronics Engineers}~--- IEEE) и
занимается разработкой способов проектирования многоагентных приложений.\footnote{%
Перечень ключевых спецификаций FIPA представлен в~\autoref{tab:FIPA-spec}~\autoref{app:fipa}.}


Согласно FIPA агент <<обладает способностью предоставлять в рамках
унифицированной и интегрированной исполнительной модели один или
более сервисов, которые могут включать доступ к внешнему
програм\-мному обеспечению, пользователям и коммуникационным
возможностям>>~\cite{Bellifemine-2007}.
{\parfillskip=0pt

}

Работа FIPA, основываются на следующих принципах:

\begin{enumerate}
\item Агентные технологии предоставляют новую парадигму решения старых и новых проблем.
\item Некоторые агентные технологии уже достаточно развиты.
\item\textls[-50]{Для использования некоторых агентных технологий требуется стандартизация.}
\item Стандартизация внутренней структуры агентов не является приоритетной задачей,
важнее разработать инфраструктуру и язык, дающие возможность агентам беспрепятственно
взаимодействовать.
\end{enumerate}

% На сегодняшний день FIPA разработано 94 спецификации, описывающие
% базовые принципы взаимодействия интеллектуальных агентов.
\emph{Язык взаимодействия агентов FIPA} (\E{FIPA Agent Communication Language}~--- FIPA ACL)
основывается на теории речевых актов~\cite{Searle-1969, Austin-1978}, декларирующей, что любое коммуникативное сообщение
равноценно поступку (действию), речевой акт также известен как
\emph{перформат\'{u}в}.

FIPA-ACL оперирует 22 перфомативами,\footnote{Полный перечень
речевых актов FIPA представлен вв~\autoref{tab:speech-acts}~\autoref{app:fipa}.} из которых два~--- \verb!Inform!
и~\verb!Request!~--- являются базовыми,
а~остальные представляют собой \emph{макроопределения}, заданные в
терминах этих перформативов. Результат базовых речевых актов определяют
\emph{предусловия}, т.\,е. условия, которые должны быть истинными, чтобы
перформатив достиг цели, и \emph{рациональный эффект}~---
та самая цель, достичь которую надеется отправитель перформатива. Каждый перформатив
представляет собой некоторое сообщение, общая структура сообщения представлена
на~\autoref{fig:FIPA-message-structure}.
%
\begin{figure}[h!]
    \centering
    \includegraphics[width=.7\textwidth]{FIPA-message-structure.eps}
    \caption[Структура сообщения FIPA]
            {Структура сообщения FIPA}
    \label{fig:FIPA-message-structure}
\end{figure}

\subsubsection{Речевой акт \ttfamily Inform}

Содержимое перформатива представляет собой \emph{утверждение} (statement).
Предусловие заключается в том, что отправитель:
%
\begin{itemize}
\item убеждён, что содержимое сообщения истинно;
\item намеревается сделать всё, чтобы получатель поверил, что содержимое сообщения истинно;
\item пока сомневается, что получатель осведомлён о том, является ли содержимое
истинным или нет.
\end{itemize}

Формальная семантика коммуникационного акта {\ttfamily Inform} может быть задана
следующим образом:
%
\begin{gather}
\langle s, \mathsf{inform}(r,p)\rangle\notag\\
FP\colon\mathcal{B}_sp\land\neg\mathcal{B}_s(\mathcal{B}\text{if}_rp\lor\mathcal{U}\text{if}_rp)\\
RE\colon\mathcal{B}_rp\text{,}\notag
\end{gather}
%
где $s$~--- отправитель сообщения, $r$~--- получатель сообщения, $p$~--- содержимое сообщения (утверждение),
$\mathcal{B}$~--- модальный оператор <<убеждён>>, $\mathcal{U}$~--- модальный оператор <<сомневается>>,
$\mathcal{B}\text{if}_rp$~--- сокращённая запись от $\mathcal{B}_rp\lor\mathcal{B}_r\neg p$,
$\mathcal{U}\text{if}_rp$~--- сокращённая запись от $\mathcal{U}_rp\lor\mathcal{U}_r\neg p$,
$FP$~--- предусловия выполнимости,
$RE$~--- предполагаемый эффект сообщения.


\subsubsection{Речевой акт \ttfamily Request}

Содержимое перформатива представляет собой \emph{действие} (action). Предусловие
заключается в том, что отправитель:
%
\begin{itemize}
\item намеревается сделать всё, чтобы было выполнено действие, указанное в
содержимом сообщения;
\item убеждён, что получатель способен выполнить это действие;
\item сомневается, что к настоящему моменту у получателя уже есть намерение выполнить
это действие.
\end{itemize}

Формальная семантика коммуникационного акта {\ttfamily Request} аналогична
семантике {\ttfamily Inform}.
В соответствии со стандартом любой агент должен иметь возможность принимать
и обрабатывать любые сообщения. Если агент по каким-либо причинам не может
обработать сообщение, он должен ответить на него перформативом \emph{Не понимаю} (Not understood).
Также FIPA определён набор коммуникационных протоколов,
каждый из которых описывает какую-то последовательность речевых актов для
создания различных \mbox{коммуникационных} сетей и два специализированных сервиса:
\emph{Служба управления агентами (СУА)}, организующая жизненный цикл агентов
и хранящая их адреса и~\emph{Служба каталога (СК)}, регистрирующая сервисы
(абстрактные ресурсы), которыми располагает каждый агент. 

\subsubsection{Реализация протокола взаимодействия}
\label{sec:spade}

Протокол взаимодействия агентов реализован с помощью языка Python, с
применением специализированной агентной библиотеки SPADE
(Smart Python multi-Agent Development Environment\footnote{англ.
\emph{Среда разработки интеллектуальных многоагентных систем на языке Python.}}).
Данная библиотека представляет собой прикладной набор инструментальных средств (платформу) для проектирования
МАС на базе \emph{Расширяемого протокола обмена сообщениями и~информацией о
присутствии} (Extensible Messaging and Presence Protocol~--- XMPP\footnote{%
Протокол прикладного уровня базовой эталонной модели OSI~\cite{GOST-7498-1-99,GOST-7498-2-99}.}).
\nomenclature{XMPP}{Extensible Messaging and Presence Protocol}
% Библиотека полностью реализована на языке Python, что делает её очень гибкой
% и легко настраиваемой для любой проектируемой МАС, в\,т.\,ч. технологического
% назначения.

К основным особенностям инструментария SPADE можно отнести:
{\parfillskip=0pt

}
\begin{itemize}
\item Полное соответствие стандартам проектирования FIPA.
\item Реализация трёх протоколов межагентного взаимодействия: XMPP, P2P\footnote{%
англ. \emph{peer-to-peer}~--- равный к равному. Протокол описания оверлейных
компьютерных сетей, основанных на равноправии участников.} и HTTP\footnote{%
англ. \emph{HyperText Transfer Prоtocоl}~--- <<протокол передачи гипертекста>>.
Клиент-серверный протокол прикладного уровня передачи данных в виде гипертекстовых документов.}.
\item Поддержка двух языков описания содержимого: FIPA-ACL и RDF.\footnote{англ. \emph{Resource Description Framework}~--- это разработанная \emph{Консорциумом всемирной паутины} (World Wide Web Consortium~--- W3C) модель для представления данных, в особенности~--- метаданных. RDF представляет утверждения о ресурсах в виде, пригодном для машинной обработки~\cite{Powers-2003}.}
{\parfillskip=0pt

}
\item Базовые классы SPADE позволяют инициировать делиберативные
    или реактивные процессы, т.\,е. на их основе можно реализовать
    рассмотренную в~\autoref{sec:hybrid-arch} гибридную архитектуру.
\item Библиотека SPADE предоставляет удобный web-интерфейс для управления агентной системой.
\item Наличие подсистемы уведомлений позволяет системе определять текущее
    состояние всех агентов в реальном времени.
\item Библиотека SPADE позволяет объединять агентов в т.\,н. \emph{организации}
    для решения непересекающихся задач, что даёт возможность создавать на её
    основе сложные агент-холонические системы управления ТПП.
{\parfillskip=0pt

}
\end{itemize}

Архитектурная модель библиотеки SPADE представлена на~\autoref{fig:spade}.
{\parfillskip=0pt

}
\begin{figure}[h!]
    \centering
    \includegraphics[width=\textwidth]{spade.eps}
    \caption[Архитектура платформы SPADE]
            {Архитектура платформы SPADE}
    \label{fig:spade}
\end{figure}

Нетрудно заметить, что представленная архитектура не требует, чтобы все агенты
МАС создавались с помощью библиотеки SPADE. Платформа лишь представляет инструменты
взаимодействия агентов внутри МАС и~даёт возможность интеграции с другими
платформами, соответствующими стандартам FIPA. Единственное требование: наличие
специализированного адаптера, дающего возможность сторонним агентам работать
с сообщениями инкапсулированными по протоколу XMPP.

Как уже было отмечено выше, всё взаимодействие агентов на уровне платформы
осуществляется по протоколу XMPP. Изначально этот протокол использовался
для организации сервисов передачи коротких сообщений. На~сегодняшний день
он находит все более широкое применение в~системах, где требуется
оперативный обмен информацией в режиме, близкому к~режиму реального времени.

\section{Аппаратное обеспечение МАС}
\label{sec:mas-hardware}



% Облачные вычисления (англ. \emph{Cloud computing})~\cite{Antonopoulos-2010}~---
% термин, в общем случае означающий предоставление вычислительных ресурсов в виде
% сервиса, а не продукта. Потребители облачных вычислений могут значительно
% уменьшить расходы на инфраструктуру информационных технологий (в~краткосрочном и
% среднесрочном планах) и гибко реагировать на изменения вычислительных потребностей предприятия,
% используя свойства вычислительной эластичности (англ. \emph{Elastic computing})
% облачных услуг.

Рассматриваемая многоагентная ИУП ТПП строится на базе существующего
на предприятии информационного пространства, следовательно, аппаратным обеспечение
МАС являются персональные компьютеры и рабочие станции, используемые
сотрудниками предприятия. Автором предложена методика моделирования
информационного пространства
приборостроительного предприятия, использующая
концепции <<облачных>> вычислений и~виртуальных рабочих мест,
позволяющая настраивать и конфигурировать разработанную ИУП ТПП
\emph{до внедрения её на предприятии}.

\nomenclature{РВИС}{Распределённый виртуальный испытательный стенд}
В соответствии с предложенной методикой создан
\emph{Распределённый Виртуальный Испытательный Стенд (РВИС)}. РВИС предоставляет
информационно-телекоммуникационную среду, предназначенную для тестирования средств информационного обеспечения,
работающего в условиях крупного промышленного предприятия.\footnote{Вопросы симуляции
и эмуляции производственной управляющей многоагентной системы более подробно рассмотрены в
работе~\cite{Germain-2003}.} РВИС построен на базе
серверного кластера, на котором установлено специализированное программное
обеспечение (\emph{\mbox{монитор} виртуальных машин}), позволяющее создавать актуальную модель имеющегося на предприятии
компьютерного оборудования.
{\parfillskip=0pt

}

\textls[30]{С точки зрения реализации распределённый виртуальный испытательный стенд является <<облачной>> платформой
виртуализации вычислительной и телекоммуникационной \mbox{инфраструктуры} предприятия.
Внешний вид серверного кластера РВИС представлен на~\autoref{fig:rvis-foto}, архитектура~--- на~\autoref{fig:rvis-arch}.}

\begin{wrapfigure}{hr!}{0.37\textwidth}
    \vspace{-20pt}
    \raggedleft
    \includegraphics[height=.6\textheight]{rvis-foto.png}
    \caption{Внешний вид серверного кластера РВИС}
    \vspace{-15pt}
    \label{fig:rvis-foto}
\end{wrapfigure}

Термин <<облачный>>~\cite{Antonopoulos-2010} подразумевает абстрагирование аппаратного
обеспечение за счёт консолидации ресурсов серверного кластера и~создании на его
основе множества виртуальных сущностей (компьютеров, рабочих станций, сетевых
устройств и т.\,д.) с~заданными характеристиками. Устройства, позволяющие
пользователю напрямую работать с~графическим интерфейсом, установленных
на них программ через специализированный web-интерфейс~\cite{Adamczyk-2001},
а~также дающие возможность доступа к периферийному оборудованию,
называются \emph{виртуальными рабочими
местами} (ВРМ), прочие вычислительные устройства~--- \emph{виртуальными машинами},
\nomenclature{ВМ}{Виртуальная машина}
\nomenclature{АСТПП}{Автоматизированная система технологической подготовки производства}
\nomenclature{ИУП ТПП}{Информационно-управляющая платформа технологической подготовки производства}
телекоммуникационные устройства~--- \emph{виртуальной локальной вычислительной
сетью}. Состав аппаратного
обеспечения, используемого при создание кластера РВИС представлен в~\autoref{tab:equipment}.
\nomenclature{ВРМ}{Виртуальное рабочее место}

\begin{figure}[p!]
    \centering
    \includegraphics[width=.9\textwidth]{rvis-arch.eps}
    \caption{Архитектура распределённого виртуального испытательного стенда}
    \label{fig:rvis-arch}
\end{figure}
{\singlespacing
\begin{table}[p!]
\caption{Состав аппаратного комплекса РВИС}
\begin{tabularx}{\textwidth}{lXr}
\toprule
Оборудование & Характеристики & Количество\tabularnewline
\midrule

Сервер IBM x3650   &
2 процессора Intel Xeon E5405, 4\,ГБ ОЗУ DDR3 ECC, НЖМД IBM 146\,ГБ SAS, 2х1\,Гб LAN, ОС Scientific Linux~6.1  &
2\,шт
\tabularnewline

Сервер Intel 5400  &
2 процессора Intel Xeon E5405, 4\,ГБ ОЗУ DDR3 ECC, НЖМД Seagete 320\,ГБ SATA, 2х1\,Гб LAN, ОС Scientific Linux~6.1 &
1\,шт.
\tabularnewline

Сервер Intel 5500  &
2 процессора Intel Xeon E5606, 24\,ГБ ОЗУ DDR3 ECC, НЖМД Seagete 300\,ГБ SAS, 2х1\,Гб LAN, ОС Scientific Linux~6.1 &
2\,шт.\tabularnewline
Сетевое хранилище  &
2 процессора Intel Xeon E5405, 4\,ГБ ОЗУ DDR3 ECC, Disk Shelve IBM 4200 12 НЖМД Seagete 500\,ГБ, 2х1\,Гб LAN, ОС Scientific Linux~6.1 &
1\,шт.\tabularnewline
\bottomrule
\end{tabularx}
\label{tab:equipment}
\end{table}}

Разработанная архитектура соответствует концепции построения <<облачных>>
платформ, называемой \emph{Инфраструктура как услуга} (\E{Infrastructure-as-a-Service}~--- IaaS)~\cite{Antonopoulos-2010}.
Данный подход обеспечивает высокую гибкость при моделировании аппаратного
обеспечения информационно-управляющей \mbox{платформы} технологической подготовки производства,
вследствие возможности эмулировать поведения практически любых персональных компьютеров
и рабочих станций, используемых на отечественных предприятиях: начиная с
устаревших и заканчивая самыми современными. 

Для управления распределённым виртуальным испытательным стендом используется удалённая графическая оболочка \E{Virtual Machine
Manager}, написанная на языке Python. Данная графическая оболочка независима от~основной
платформы (серверного кластера распределённого виртуального испытательного стенда)
и~может быть установлена на любом внешнем
по~отношению к РВИС персональном компьютере, имеющим доступ
к~сети Интернет. К~основным функциям оболочки относятся: создание новых виртуальных машин и
включение их в кластер РВИС, доступ к консоли управления виртуальной машины, сохранение
состояния виртуальной машины (создание точек восстановления), миграция виртуальных машин между хостами РВИС,
балансировка нагрузки, а также доступ к виртуальным рабочим местам пользователей
автоматизированных систем технологической подготовки производства.
На~\autoref{fig:vm-manager} представлен интерфейс оболочки с~открытыми
окнами управления двумя виртуальными машинами и окном управления виртуальным рабочим
местом. Доступ к виртуальным рабочим местам через консоль менеджера виртуальных
машин является первым из реализованных способов удалённого управления виртуальными рабочими местами.
Данный способ используется только для решения сервисных задач, связанных
с установкой и настройкой программного обеспечения распределённого
виртуального испытательного стенда. В~\autoref{sec:int-astpp}
будет рассмотрен второй способ, основанный на концепции web-сервисов и не
требующий установки дополнительного клиентского программного обеспечения.

\begin{figure}[h!]
    \centering
    \includegraphics[width=\textwidth]{vm-manager.png}
    \caption{Интерфейс управления кластером РВИС}
    \label{fig:vm-manager}
\end{figure}

\section{Выводы и результаты по третьей главе}

Разработан и программно реализован комплекс информационного обеспечения,
позволяющий создать многоагентную систему в рассматриваемой предметной
области. Комплекс включает в себя следующие модули и инструментальные средства:

\begin{enumerate}
    \item\textls[-20]{Универсальный формат (язык) представления технологических
    данных и знаний, созданный в соответствии с основными принципами
    теории виртуального строкового пространства технологических данных
    и позволяющий агентам системы участвовать в интеграционной сети
    ИУП ТПП.}
    {\parfillskip=0pt

    }
    \item Набор базовых классов, реализующих модель протоагента, т.\,е.
    агента, содержащего набор информационных контекстов, позволяющих
    менять поведение конкретных агентов при решении задач интеграции
    и взаимодействия с пользователем, а также модулей интеграции ВСПТД
    с~интерфейсами COM и XML-RPC.
    \item Онтологический словарь технологических концептов,
    позволяющий отделить семантику используемых в процессе проектирования ТПП понятий от непосредственно
    данных, которые они представляют. Онтологический словарь позволяет
    агентам беспрепятственно обменивать любыми технологическими данными
    и знаниями без дублирования понятий или двусмысленностей.
    \item Протокол взаимодействия агентов, реализованный в соответствии
    со~стандартами FIPA. Данный протокол позволяет агентам взаимодействовать по сети,
    обмениваясь специальными символьными структурами, именуемыми речевыми
    актами или перформативами. Для передачи речевых актов используются
    различные транспортные протоколы прикладного уровня эталонной модели OSI.
\end{enumerate}

Предложен метод моделирования информационного поля приборостроительного
предприятия, основанный на концепциях <<облачных>> вычислений и виртуальных
рабочих мест. На его основе разработан распределённый
виртуальный испытательный стенд, позволяющий создать модель интеграционной
сети проектируемой информационно-управляющей платформы для отработки
и верификации исследуемых технологий.

% {"запрос-параметров-инструмента": {
%         "содержимое": [
%             "$I.NUM > 3 @ $I.TR И $I.L < $I.L:10//",
%             "$E.D+//"
%         ],
%         "язык": "фрейм-запрос-всптд",
%         "онтология": {
%             "инструмент": {
%                 "режущий": {
%                     "фрезы" : ["концевые", "торцевые"]
%             }
%         }
%     }
% }


% \section{Обзор стандартов FIPA}
% \label{sec:FIPA-standards}
% 
% \emph{Фонд интеллектуальных физических агентов} (Foundation for Intelligenоt Physical Agents~--- FIPA)~---~%
% международная некоммерческая организация, созданная для разработки комплекта 
% стандартов проектирования многоагентных систем. Первоначальным составом участников,
% в который вошли представители различных академических организаций и промышленных
% предприятий, был выработан набор положений, \emph{де-юре} определяющих способы
% разработки многоагентных приложений.
% 
% К тому времени теория многоагентных систем была хорошо изучена научным сообществом,
% но, тем не менее, практически не использовалась для создания коммерческих
% приложений. Участники FIPA взяли на себя обязательства подготовить стандарты,
% которые должны были стать основой новой отрасли промышленности, способной создать
% междисциплинарный уровень взаимодействия различных приложений.
% 
% Согласно FIPA агент <<обладает способностью предоставлять в рамках
% унифицированной и интегрированной исполнительной модели один или
% более сервисов, которые могут включать доступ к внешнему
% программному обеспечению, пользователям и коммуникационным
% возможностям>>
% 
% Работа FIPA, основываются на следующих принципах:
% ~
% \begin{enumerate}
% \item Агентные технологии предоставляют новую парадигму решения старых и новых проблем.
% \item Некоторые агентные технологии уже достаточно развиты.
% \item Для использования некоторых агентных технологий требуется стандартизация.
% \item Стандартизация внутренней структуры агентов не является приоритетной задачей,
% важнее разработать инфраструктуру и язык, дающие возможность агентам беспрепятственно
% взаимодействовать.
% \end{enumerate}
% 
% Первоначально предполагалось, что организация просуществует всего пять лет. За
% это время должны были быть стандартизованы лишь некоторые аспекты работы
% многоагентных систем; этот мандат был бессрочно продлён в 2001 году.
% С 2006 FIPA года является 11 комитетом \emph{Института инженеров по электротехнике и электронике}
% (Institute of Electrical and Electronics Engineers~--- IEEE). Всего FIPA
% было принято 3 редакции стандартов: FIPA’97, FIPA’98 и FIPA2000.
% На сегодняшний день разработано 94 спецификации, наиболее значимые из них
% представлены~в~табл.~\ref{tab:FIPA-spec}.
% %
% {\singlespacing
% \begin{table}[h!]
% \caption{Ключевые спецификации FIPA}
% \begin{tabularx}{\textwidth}{lX}
% \toprule
% \small Индекс & \centering\small Описание \tabularnewline
% \midrule
% \small\ttfamily 00001 & \hangindent=.7cm \small Спецификация абстрактной архитектуры (Abstract Architecture Specification)\tabularnewline
% \small\ttfamily 00007 & \hangindent=.7cm \small Спецификация языка описания содержимого (Content Languages Specification)\tabularnewline
% \small\ttfamily 00008 & \hangindent=.7cm \small Спецификация языка описания содержимого SL (SL Content Language Specification)\tabularnewline
% \small\ttfamily 00023 & \hangindent=.7cm \small Спецификация управления агентами (Agent Management Specification)\tabularnewline
% \small\ttfamily 00024 & \hangindent=.7cm \small Спецификация транспортировки сообщений агентов (Agent Message Transport Specification)\tabularnewline
% \small\ttfamily 00025 & \hangindent=.7cm \small Спецификация библиотеки протокола взаимодействия (Interaction Protocol Library Specification)\tabularnewline
% \small\ttfamily 00037 & \hangindent=.7cm \small Спецификация библиотеки коммуникативных актов (Communicative Act Library Specification)\tabularnewline
% \small\ttfamily 00061 & \hangindent=.7cm \small Спецификация структуры сообщения ACL (ACL Message Structure Specification)\tabularnewline
% \small\ttfamily 00063 & \hangindent=.7cm \small Спецификация агентного контроля (Control Agent Specification)\tabularnewline
% \small\ttfamily 00082 & \hangindent=.7cm \small Спецификация сетевого управления и резервирования (Network Management and Provisioning Specification)\tabularnewline
% \small\ttfamily 00084 & \hangindent=.7cm \small Спецификация протокола транспортировки сообщений агентов для HTTP (Agent Message Transport Protocol for HTTP Specification)\tabularnewline
% \small\ttfamily 00086 & \hangindent=.7cm \small Спецификация сервиса онтологий (Ontology Service Specification)\tabularnewline
% \small\ttfamily 00094 & \hangindent=.7cm \small Спецификация качества обслуживания (Quality of Service Specification)\tabularnewline
% \bottomrule
% \end{tabularx}
% \label{tab:FIPA-spec}
% \end{table}}
% 
% Можно выделить следующие основные результаты работы FIPA:
% %
% \begin{itemize}
% \item Разработан портфель стандартов определяющих параметры межагентного 
% взаимодействия и обеспечивающих его вспомогательных сервисов.
% \item Стандартом FIPA2000 полностью охвачена абстрактная архитектура многоагентных
% платформ.
% \item Детально описаны язык взаимодействия агентов, язык описания содержимого
% и основные протоколы взаимодействия.
% \item Реализовано несколько свободных\footnote{\emph{Open source}, с открытым исходным кодом.}
% библиотек разработки многоагентных платформ.
% \item Создано агент-ориентированное расширение \emph{Универсального языка
% моделирования} (Unified Modeling Language~--- UML), названное AUML~\cite{Bauer-2001}.
% \end{itemize}
% 
% \subsection{Взаимодействие агентов}
% 
% \emph{Язык взаимодействия агентов FIPA} (\E{FIPA Agent Communication Language}~--- FIPA ACL)
% основывается на теории речевых актов~\cite{Searle-1969, Austin-1978}, декларирующей, что любое коммуникативное сообщение
% равноценно поступку (действию), речевой акт также известен как
% \emph{перформат\'{u}в}. FIPA-ACL оперирует 22 перфомативами представленными в табл.~\ref{tab:speech-acts}.
% %
% {\singlespacing
% \begin{table}[p!]
% \caption{Речевые акты языка FIPA-ACL}
% \begin{tabularx}{\textwidth}{lX}
% \toprule
% Речевой акт & \centering Описание \tabularnewline
% \midrule
% \small\ttfamily Accept Proposal       & \hangindent=.7cm \small Принятие предложения другого агента \tabularnewline
% \small\ttfamily Agree                 & \hangindent=.7cm \small Согласие выполнить какое-то действие \tabularnewline
% \small\ttfamily Cancel                & \hangindent=.7cm \small Уведомление о прекращении выполнения действия \tabularnewline
% \small\ttfamily Call for Proposal     & \hangindent=.7cm \small Запрос предложений на выполнение действия \tabularnewline
% \small\ttfamily Confirm               & \hangindent=.7cm \small Уведомление об истинности некоторого суждения в случае сомнений получателя \tabularnewline
% \small\ttfamily Disconfirm            & \hangindent=.7cm \small Уведомление о ложности некоторого суждения в случае, когда получатель считает его истинным\tabularnewline
% \small\ttfamily Failure               & \hangindent=.7cm \small Уведомление о неудаче \tabularnewline
% \small\ttfamily Inform                & \hangindent=.7cm \small Уведомление об истинности некоторого суждения \tabularnewline
% \small\ttfamily Inform If             & \hangindent=.7cm \small Сообщение о том было ли суждение истинным или нет \tabularnewline
% \small\ttfamily Inform Ref            & \hangindent=.7cm \small Уведомление о соответствии полученного объекта некоторому дескриптору \tabularnewline
% \small\ttfamily Not Understood        & \hangindent=.7cm \small Осознание необходимости сделать что-либо, но отсутствии понимания что именно \tabularnewline
% \small\ttfamily Propagate             & \hangindent=.7cm \small Сообщение о необходимости принять сообщение и передать его другим агентам в соответствии с заданным дескриптором \tabularnewline
% \small\ttfamily Propose               & \hangindent=.7cm \small Предложение выполнить некоторое действие с учётом заданных условий \tabularnewline
% \small\ttfamily Proxy                 & \hangindent=.7cm \small Уведомление о необходимости передать сообщения другим агентам в соответствии с заданным дескриптором \tabularnewline
% \small\ttfamily Query If              & \hangindent=.7cm \small Запрос о том было ли суждение истинным или нет \tabularnewline
% \small\ttfamily Query Ref             & \hangindent=.7cm \small Запрос о соответствии имеющегося объекта некоторому дескриптору \tabularnewline
% \small\ttfamily Refuse                & \hangindent=.7cm \small Отказ от выполнения некоторого действия без сообщения причины \tabularnewline
% \small\ttfamily Reject Proposal       & \hangindent=.7cm \small Отклонение предложения выполнить некоторое действие во время проведения переговоров \tabularnewline
% \small\ttfamily Request               & \hangindent=.7cm \small Запрос на выполнение некоторого действия \tabularnewline
% \small\ttfamily Request When          & \hangindent=.7cm \small Запрос на выполнение некоторого действия в случае получения предложения \tabularnewline
% \small\ttfamily Request Whenever      & \hangindent=.7cm \small Запрос на выполнение некоторого действия постоянно при получении предложений \tabularnewline
% \small\ttfamily Subscribe             & \hangindent=.7cm \small Желание получать сообщения в соответствии с некоторым условием до тех пор, пока оно не изменится \tabularnewline
% \bottomrule
% \end{tabularx}
% \label{tab:speech-acts}
% \end{table}}
% 
% {\ttfamily Inform} и {\ttfamily Request} являются базовыми речевыми актами 
% FIPA ACL, остальные представляют собой \emph{макроопределения}, заданные в
% терминах этих перформативов. Результат базовых речевых актов определяют
% \emph{предусловия}, т.\,е. условия, которые должны быть истинными, чтобы
% перформатив достиг цели, и \emph{рациональный эффект} (rational effect)~---
% та самая цель, достичь которую надеется отправитель перформатива.
% 
% \subsubsection{Речевой акт \ttfamily Inform}
% 
% Содержимое перформатива представляет собой \emph{утверждение} (statement).
% Предусловие заключается в том, что отправитель:
% %
% \begin{itemize}
% \item убеждён, что содержимое сообщения истинно;
% \item намеревается сделать всё, чтобы получатель поверил, что содержимое сообщения истинно;
% \item пока сомневается, что получатель осведомлён о том, является ли содержимое
% истинным или нет.
% \end{itemize}
% 
% Формальная семантика коммуникационного акта {\ttfamily Inform} может быть задана
% следующим образом:
% %
% \begin{gather}
% \langle s, \mathsf{inform}(r,p)\rangle\notag\\
% FP\colon\mathcal{B}_sp\land\neg\mathcal{B}_s(\mathcal{B}\text{if}_rp\lor\mathcal{U}\text{if}_rp)\\
% RE\colon\mathcal{B}_rp\text{, где}\notag
% \end{gather}
% %
% \begin{tabular}{p{2cm} p{14.5cm}}
% $s$  & отправитель сообщения,\\
% $r$  & получатель сообщения,\\
% $p$  & содержимое сообщения (утверждение),\\
% $\mathcal{B}$  & модальный оператор <<убеждён>>,\\
% $\mathcal{U}$  & модальный оператор <<сомневается>>,\\
% $\mathcal{B}\text{if}_rp$  & сокращённая запись от $\mathcal{B}_rp\lor\mathcal{B}_r\neg p$,\\
% $\mathcal{U}\text{if}_rp$  & сокращённая запись от $\mathcal{U}_rp\lor\mathcal{U}_r\neg p$,\\
% $FP$ & предусловия выполнимости (feasibility precondition),\\
% $RE$ & предполагаемый эффект сообщения (rational effect).\\
% \end{tabular}
% 
% 
% \subsubsection{Речевой акт \ttfamily Request}
% 
% Содержимое перформатива представляет собой \emph{действие} (action). Предусловие
% заключается в том, что отправитель:
% %
% \begin{itemize}
% \item намеревается сделать всё, чтобы было выполнено действие, указанное в 
% содержимом сообщения;
% \item убеждён, что получатель способен выполнить это действие;
% \item сомневается, что к настоящему моменту у получателя уже есть намерение выполнить
% это действие.
% \end{itemize}
% 
% Формальная семантика коммуникационного акта {\ttfamily Request} аналогична
% семантике {\ttfamily Inform}.
% 
% В соответствии со стандартом любой агент должен иметь возможность принимать
% и обрабатывать любые сообщения. Если агент по каким-либо причинам не может
% обработать сообщение, он должен ответить на него перформативом \emph{Не понимаю} (Not understood).
% Также FIPA определён набор коммуникационных протоколов,
% каждый из которых описывают какую-то последовательность речевых актов для 
% создания различных коммуникационных сетей.
% 
% \subsection{Коммуникационные подуровни FIPA}
% 
% Стек коммуникационных протоколов FIPA базируется на \emph{Базовой эталонной модели
% взаимосвязи открытых систем} (\E{Open Systems Interconnection basic reference model}~--- OSI)~\cite{GOST-7498-1-99,GOST-7498-2-99}
% и также условно разделён на 7 коммуникационных подуровней. Рассмотрим эти подуровни подробнее:
% %
% \begin{itemize}
% \item \emph{Подуровень 1 (Транспортный)}: Определяет транспорт для
%     передачи сообщений FIPA-ACL. В соответствии с текущей версией стандарта используются
%     три основных транспортных протокола: \emph{Межброкерный протокол для Интернет} (\E{Internet
%     InterORB Protocol~--- IIOP}), \emph{Беспроводной протокол передачи данных}
%     (\E{Wireless Application Protocol~--- WAP}) и \emph{Протокол передачи гипертекста}
%     (\E{HyperText Transfer Protocol~--- HTTP}).
% \item \emph{Подуровень 2 (Кодирование)}: Вместо обычных байт-кодированных сообщений
%     стандарт FIPA позволяет оперировать высокоуровневыми структурами данных, например,
%     XML, строками
%     (String) или специализированным битовым форматом Bit-Efficient. Последний используется
%     при работе через низкоскоростные соединения.
% \item \emph{Подуровень 3 (Обмен сообщениями)}: В соответствии со
%     стандартами FIPA на этом уровне задаются дополнительные параметры, специфицирующие
%     полезную нагрузку сообщения, например адреса отравителя и получателя, тип
%     сообщения (коммуникативного акта), таймауты ответов и т.\,д. Кодировка
%     передаваемого сообщения не регламентируется, оставляя право разработчикам
%     выбирать наиболее подходящую им кодовую страницу.
% \item \emph{Подуровень 4 (Онтология)}: Каждое поле передаваемых в сообщении 
%     данных может быть связано с некоторой концептуальной моделью или, иными
%     словами, онтологией. Но, несмотря на то, что связь полей и онтологий
%     явно регламентирована, в стандарте FIPA не уточняется в каком виде они должны
%     быть представлены, поэтому разработчики могут использовать любые предметно-ориентированные
%     онтологии, либо web-онтологии, если того требует конкретная производственная
%     задача.
% \item \emph{Подуровень 5 (Описание содержимого)}: Актуальное содержимое передаваемого
%     сообщение может быть представлено в любой форме. Тем не менее, стандартами
%     FIPA регламентированы некоторые общие положения использования формул
%     алгебры логики, предикатов и алгебраических операций. Наиболее распространённым
%     языком описания содержимого передаваемых сообщений на сегодняшний день
%     является FIPA-SL. В данном языке реализованы все основные логические
%     операции такие как: \emph{or} (или, $\lor$), \emph{and} (и, $\land$), \emph{not} (не, $\neg$),
%     \emph{equiv} (равно, $=$), \emph{implies} (импликация, $\implies$) и т.\,д. А также предикаты
%     \emph{any} (любой), \emph{all} (все) и~др.
% \item \emph{Подуровень 6 (Коммуникационные акты)}: На данном уровне реализован 
%     простой классификатор коммуникативных актов (перформативов), см.~табл.~\ref{tab:speech-acts}.
% \item \emph{Подуровень 7 (Протокол взаимодействия)}: Обычно сообщения передаются
%     не только от агента к агенту, но и участвуют в некоторой коммуникативной
%     последовательности. Стандартами FIPA определены несколько протоколов для
%     передачи и маршрутизации сообщений в МАС.
% \end{itemize}
% 
% \subsection{Управление агентами}
% \label{sec:agent-manage}
% 
% В соответствии со стандартами FIPA, вторым по важности аспектом работы МАС (после
% организации взаимодействия агентов) является управление поведением отдельных
% агентов. В данном контексте особое внимание уделяется разработке внутренних
% правил и норм, которым должны следовать агенты, т.\,е.
% созданию логической модели, в соответствии с которой будут создаваться,
% взаимодействовать, мигрировать и работать все агенты МАС. Референсная (эталонная) модель
% управления агентами изображена на~\autoref{fig:agent-management-ontology}.
% %
% \begin{figure}[h!]
%     \centering
%     \includegraphics[width=0.8\textwidth]{agent-management-ontology.eps}
%     \caption[Референсная модель управления агентами]
%             {Референсная модель управления агентами}
%     \label{fig:agent-management-ontology}
% \end{figure}
% 
% \emph{\bfseries Агентная платформа (АП)}\quad Обеспечивает физическую инфраструктуру, в
% которой будет развёрнута МАС. Включает в себя вычислительное оборудование,
% операционные системы, компоненты управления агентами FIPA (см.~ниже), самих
% агентов и вспомогательное программное обеспечение. Реализация самой  МАС не
% регламентируется FIPA, что позволяет разработчикам создавать системы в соответствии
% с текущими потребностями производственной или технологической среды. АП может
% иметь блочную структуру, компоненты который физически располагаются в разных
% узлах вычислительной сети, единственное требование~--- несколько агентов не
% могут одновременно находится на одном хосте АП.
% FIPA рассматривает только способ реализации коммуникаций между
% <<родными>> для данной АП агентами и внешними или динамически регистрирующимися
% на АП агентами.
% 
% \emph{\bfseries Агент}\quad Агент является ключевым компонентом АП, 
% агент представляет собой некоторый вычислительный процесс%
% \footnote{%
% В соответствии с ГОСТ 19781-90~\cite{GOST-19781-90} процесс обработки данных
% (\E{computational process}) есть система действий, реализующая определенную
% функцию в системе обработки информации и оформленная так, что управляющая
% программа данной системы может перераспределять ресурсы этой системы в целях
% обеспечения мультипрограммирования.
% }, являющийся частью распределённой АП. Как правило, агент может предоставлять
% один или несколько вычислительных сервисов в
% \emph{унифицированной и интегрированной исполнительной модели},
% которая может включать доступ к внешнему программному
% обеспечению, интерфейс пользователя и коммуникационные возможности.
% 
% Структура и реализация данных сервисов может
% быть произвольной, FIPA регламентирует только структуру и кодировку сообщений,
% используемых для взаимодействия агентов. Агент должен иметь как минимум одного 
% владельца (например, на основе принадлежности к организации или человеку)
% и иметь некоторый уникальный идентификатор, позволяющий однозначно выделить его
% внутри агентного универсума. Также агент может регистрироваться с множеством
% транспортных адресов, по которым с ним можно контактировать, а также быть брокером
% ресурсов (\autoref{sec:abstract-resources}) для доступа к программному обеспечению.
% 
% \emph{\bfseries Служба каталога (СК)}\quad Служба каталога является опциональным
% \nomenclature{СК}{Служба каталога}
% компонентом АП, который предоставляет сервис \emph{жёлтых страниц} всем агентам МАС.
% СК хранит точный и полный список агентов системы и по требованию должна
% выдавать актуальную информацию о них. АП может включать в себя несколько СК, при
% этом СК регистрируют друг друга, образуя федерацию.
% 
% Каждый агент, который хочет заявить о предоставляемом сервисе (сервисах), должен найти СК
% и \emph{оставить запрос на регистрацию}. Факт регистрации агента в службе каталога не подразумевает
% никаких обязательств с его стороны. Агент в любой момент может \emph{отправить запрос
% с просьбой удаления или модификации} записей о себе из каталога и служба каталога обязана удовлетворить
% его. Кроме того, агент может \emph{отправить запрос на поиск} интересующих его сервисов,
% но, исходя из сказанного выше, ответ СК может быть недостоверным. 
% СК имеет право временно ограничить доступ к информации в своём каталоге агентам, пытающимся
% изменить данные о себе и проверить их полномочия доступа.
% 
% \emph{\bfseries Система управления агентам (99999999999999)}\quad СУА является обязательным
% \nomenclature{СУА}{Система управления агентам}
% компонентом АП и отвечает за управления такими операциями АП как создание и удаление
% агентов, а также контроль за перемещениями агентов в\slash из АП. Каждый агент
% обязан зарегистрироваться в СУА и получить свой уникальный идентификатор, который
% сохраняется в каталоге СУА вместе с текущим состоянием агента (например, активен,
% работа приостановлена, в режиме ожидания) и его транспортными адресами. Записи об агентах могут изменяться
% только с разрешения СУА.
% %
% \begin{figure}[t!]
%     \centering
%     \includegraphics[width=.9\textwidth]{agent-lifecycle.eps}
%     \caption[Диаграмма жизненного цикла агента]
%             {Диаграмма жизненного цикла агента}
%     \label{fig:agent-lifecycle}
% \end{figure}
% 
% Жизненный цикл агента (\autoref{fig:agent-lifecycle}) завершается в момент
% \emph{снятия его с учёта} в СУА, при этом его уникальный идентификатор удаляется
% из каталога и становится доступным для вновь регистрирующихся агентов\footnote{В
% \autoref{sec:agent-impl} автором будет предложен способ, позволяющий генерировать
% одноразовые идентификаторы агентов, что позволит отказаться от необходимости
% подобного поведения СУА.}. СУА
% предоставляет доступ к своему каталогу для поиска записей о состояниях агентов
% АП. СУА может потребовать, чтобы агент выполнил определённое административное
% задание, например, прекратил свою работу. Также СУА обладает полномочиями
% принудительного выполнения заданной административной операции в случае, если
% её запрос игнорируется. В АП может быть только одна СУА.
% 
% \emph{\bfseries Служба транспортировки сообщений (СТС)}\quad СТС отвечает за транспортировку
% \nomenclature{СТС}{Служба транспортировки сообщений}
% сообщений FIPA-ACL между агентами внутри одной АП, а также между агентами разных АП.
% Сообщения помещаются в \emph{конверт}, содержащий в себе различную информацию об
% отправителе, получателе, протоколе и т.\,д. Общая структура сообщения представлена
% на~\autoref{fig:FIPA-message-structure}.
% %
% \begin{figure}[t!]
%     \centering
%     \includegraphics[width=.7\textwidth]{FIPA-message-structure.eps}
%     \caption[Структура сообщения FIPA]
%             {Структура сообщения FIPA}
%     \label{fig:FIPA-message-structure}
% \end{figure} 
% 
% \emph{\bfseries Стороннее программное обеспечение (СПО)}\quad СПО представляет собой:
% \begin{enumerate}
% \item Совокупность неагентного исполняемого кода, доступного через интерфейс агента.
% \item Не относится к АП.
% \item Агенты могут обращаться к СПО для того, чтобы, например:
% \begin{itemize}
%     \item добавить новые сервисы;
%     \item приобрести новые коммуникационные протоколы;
%     \item приобрести новые протоколы\slash алгоритмы безопасности;
%     \item приобрести новые протоколы переговоров;
%     \item обратиться к инструментам поддерживающим миграцию;
%     \item и т.\,д.
% \end{itemize}
% \end{enumerate}
% 
% 
% \subsection{Абстрактной архитектура FIPA}
% 
% В дополнение к стандартам, описывающим взаимодействие агентов и управление 
% агентной платформой в период с 2000 по 2002 годы FIPA была описана абстрактная
% агентная платформа (ААП). ААП позволила более чётко формализовать наиболее
% \nomenclature{ААП}{Абстрактная агентная платформа}
% важные механизмы агентного взаимодействия. Конечная цель данного подхода~---
% дать возможность создавать такие МАС, которые могли бы быть легко включены в
% любую вычислительную среду посредством создания в ней дополнительного (внешнего
% по отношению к среде) агентного слоя.
% 
% МАС, созданные в соответствии с разработанными ранее стандартами FIPA'97 и '98
% могут с некоторыми ограничениями взаимодействовать с системами, построенными на
% базе ААП через специализированные шлюзы. МАС, использующие архитектуру FIPA'2000
% также должны использовать шлюзы, но уже без каких-либо ограничений.
% 
% Конкретная МАС, созданная на основе ААП может быть реализована
% разными способами, например, как компонент на Java, как COM
% объект, самостоятельной Lisp программой или TCL скриптом. Он может
% исполняться как нативный процесс на некотором физическом компьютере под
% управлением операционной системы, или поддерживаться интерпретатором,
% таким как Java Virtual Machine или TCL системой. Взаимосвязь между
% агентами и их вычислительными контекстами специфицируется в процессе
% жизненного цикла агента. ААП не затрагивает
% жизненный цикл агента, т.\,к. часто он реализуется по разному в конкретных
% вычислительных средах, реализация ААП должна описывать эти моменты.
% 
% 
% \section{Прикладные библиотеки разработки многоагентных систем}
% 
% В общем случае, прикладная библиотека является программным обеспечением промежуточного
% уровня (middleware), т.\,е. программным обеспечением для создания программного
% обеспечения, в рассматриваемой предметной области~--- многоагентных систем технологического
% назначения. С целью сохранения единообразия терминологии для обозначения данного
% класса ПО автором будет использоваться 
% определение \emph{Многоагентная платформа} (МП\footnote{По аналогии с многоагентной
% средой (\autoref{sec:mae}) и многоагентной системой (\autoref{sec:mas}).}).\nomenclature{МП}{Многоагентная платформа}
% 
% На сегодняшний день существует огромное количество прикладных библиотек разработки
% МАС. Подробный и всесторонний анализ большинства из них можно найти в работе~\cite{Shvetsov-2008}.
% В рамках представленного исследования автором проведён анализ лишь трёх систем
% моделирования и разработки МАС. Это обусловлено тем, что подавляющая часть
% программных средств разработки либо выпускаются под несвободной (проприетарной)
% лицензией\footnote{Что противоречит требованию создания открытой системы, см.~\ldots},
% либо реализует функциональность МАС лишь в узкой предметной области,
% не позволяющей использовать её для разработки полноценной ИУП ТПП. Выбранные 
% для исследования многоагентные платформы представляют три разных подхода к моделированию
% МАС, что позволяет проследить основные современные направления в развитии данного ПО
% и выбрать наиболее подходящую библиотеку для разработки прототипа ИУП ТПП. 
% 
% \subsection{JADE}
% 
% JADE (Java Agent Development Framework\footnote{англ.
% \emph{Фреймворк \textnormal{(см.~определение~на~с.~\pageref{framework})} для разработки
% агентов на языке Java.}})~--- это программное обеспечение
% промежуточного слоя, разработанное компанией
% TILAB, предназначенное для создания  распределённых
% многоагентных приложений на основе транспортной архитектуры <<точка-точка>>. И
% интеллект, и инициатива, и информация, и ресурсы, и контроль могут быть
% полностью распределены по мобильным терминалам так же, как и по компьютерам
% выделенной сети. Среда может динамично взаимодействовать  с узлами, которые в
% терминологии JADE называются агентами. Агенты то появляются, то исчезают  
% в системе в соответствии с потребностями и требованиями программной среды.   
% Коммуникации между узлами не зависят от типа сети (проводная, беспроводная). 
% Они являются полностью симметричными, и каждый узел может, как инициировать 
% запросы, так и отвечать на них~\cite{Bellifemine-2007}. 
% 
% МП JADE полностью разработана на языке Java. Перечислим основополагающие
% принципы платформы:
% %
% \begin{itemize}
% \item\emph{Функциональная совместимость}~--- продукт JADE разработан в соответствии
%     со спецификациями FIPA. Как следствие JADE-агенты могут взаимодействовать со
%     сторонними агентами, поддерживающими этот стандарт.
% \item\emph{Портируемость и единообразность}~--- продукт JADE предоставляет
%     гомогенный набор прикладных программных интерфейсов (API), которые не зависят
%     ни от базового устройства сети,  ни от версии платформы Java.
% \item\emph{Простота использования}~--- набор простых и интуитивно-понятных
%     интерфейсов API прячет сложную логику  ПО промежуточного слоя от пользователя.
% \item\emph{Принцип <<разрабатывать по средствам>>}~--- программистам нет
%     необходимости использовать все возможности,  которые предоставляет ПО
%     промежуточного слоя. От программистов не требуется знать что-либо о
%     неиспользуемых функциях платформы. Ни одна из незадействованных функций не
%     создает дополнительные накладные вычислительные расходы.
% \end{itemize}
% 
% \subsubsection{Архитектурная модель}
% 
% МП JADE включает как программные библиотеки,
% требуемые для разработки прикладных агентов, так и среду исполнения, которая 
% предоставляет базовые службы и которая должна быть активна на устройстве до того,
% как на нем будет исполняться агент. Каждый экземпляр JADE во время исполнения
% называется контейнером (так как он <<содержит>> агентов). Набор всех контейнеров
% называется платформой и предоставляет однородный слой, который прячет от агентов
% (а также от разработчиков приложений) сложность и распределённый характер
% механизмов, расположенных на более низком уровне (\autoref{fig:JADE} и \autoref{fig:JADE-UML}).
% %
% \begin{figure}[t!]
%     \centering
%     \includegraphics[width=\textwidth]{JADE.eps}
%     \caption[Архитектура платформы JADE]
%             {Архитектура платформы JADE}
%     \label{fig:JADE}
% \end{figure}
% %
% \begin{figure}[h!]
%     \centering
%     \includegraphics[width=.8\textwidth]{JADE-UML.eps}
%     \caption[UML-диаграмма взаимодействия элементов платформы JADE]
%             {UML-диаграмма взаимодействия базовых элементов платформы JADE}
%     \label{fig:JADE-UML}
% \end{figure} 
% 
% % В процессе исполнения JADE занимает около 100\,КБ оперативной памяти, но этот
% % размер может быть уменьшен до 50\,КБ за счет совместной компиляции JVM и JADE.
% % Продукт JADE является универсальным и более того, он не только
% % удовлетворяет ограничениям сред с ограниченными ресурсами, но он интегрирован в
% % сложные архитектуры, такие как .NET и J2EE, где JADE становится службой для
% % исполнения прикладных проактивных приложений с несколькими взаимодействующими
% % сторонами.
% 
% \subsubsection{Функциональная модель}
% 
% С  функциональной точки зрения программный инструмент JADE предоставляет базовые
% службы, необходимые для распределённых одноранговых приложений типа
% <<точка-точка>> в стационарных и мобильных средах. Он позволяет каждому агенту
% динамически обнаруживать других агентов и обмениваться с ними сообщениями в
% соответствии с парадигмой распределённых многоагентных систем. С точки зрения
% приложения каждый агент идентифицируется уникальным именем и предоставляет набор 
% служб. Он может регистрировать и модифицировать свои службы и\slash или искать 
% агентов, предоставляющих данные службы. Также агент способен контролировать свой 
% жизненный цикл и, в частности, общаться с другими агентами.
% 
% Агенты общаются путём обмена асинхронными сообщениями, модель коммуникаций почти
% повсеместно применима для распределённых и слабосвязанных коммуникаций, т.\,е.
% коммуникаций между гетерогенными сущностями, которые ничего не знают друг о друге.
% Для осуществления коммуникации агент только посылает сообщение получателю. 
% Идентификатором служит имя агента и, как следствие, нет временной зависимости между общающимися
% агентами. Не требуется, чтобы отправитель и получатель были запущены в одно и 
% тоже время. Получатель даже может не существовать(или еще не существовать) или 
% может быть не известен явно отправителю.
% 
% Несмотря на такой тип коммуникаций, при коммуникациях сохраняется безопасность 
% передачи сообщений. Для приложений, которым требуются безопасные каналы, 
% платформа JADE предоставляет надлежащие механизмы для аутентификации и проверки 
% прав, назначенных агентам.  Следовательно, когда требуется, приложение может 
% проверить истинность идентификатора отправителя сообщения и предотвратить 
% выполнение недозволенных действий (например, агенту разрешено  получать сообщения 
% от агента-босса, но запрещено посылать ему сообщения). Все сообщения,  которыми 
% обмениваются агенты,  передаются внутри обёртки, которая включает только
% необходимую транспортному уровню информацию. Что позволяет, помимо всего прочего, 
% шифровать содержимое сообщения отдельно от его обёртки.
% 
% % Структура сообщения задается при помощи языка FIPA-ACL, определенного 
% % спецификациями FIPA, и включает такие поля, как переменные, определяющие контекст, 
% % получателя сообщения и время, в течение которого будет ожидаться ответ, нацеленные 
% % на поддержку сложных взаимодействий и множественные параллельные беседы. Для того, 
% % чтобы поддерживать реализацию сложных коммуникаций в дальнейшем,  программное 
% % обеспечение JADE предоставляет набор каркасов типичных паттернов взаимодействий 
% % для выполнения определенных задач, таких как ведение переговоров, аукционы и 
% % делегирование задач. Используя эти скелетоны (реализованные как абстрактные 
% % классы Java), программисты смогут избежать таких проблем, как задачи 
% % синхронизации, таймауты, условия ошибок, и, в общем, всех тех аспектов, которые 
% % тесно не связаны с логикой приложения.
% % 
% % Для того чтобы облегчить реализацию 
% % механизмов создания и обработки содержимого сообщений, агентная платформа JADE 
% % предоставляет поддержку  для автоматического прямого и обратного конвертирования 
% % в формат, подходящий для обмена контентом, включая XML  и RDF, и формат, 
% % подходящий для управления контентом (например, объекты Java). Эта поддержка 
% % встроена в некоторые инструменты создания онтологий, позволяя программистам 
% % создавать графическое представление онтологий.
% % 
% % Для того чтобы расширить масштабируемость или удовлетворить ограничения сред с 
% % ограниченными ресурсами, ПО JADE предоставляет возможность выполнения 
% % множественных параллельных задач в одном потоке Java. Несколько элементарных 
% % задач, таких как коммуникации, могут быть соединены для формирования более 
% % сложных задач, представленных как конечные автоматы.
% % 
% % В средах J2SE и Personal Java программа JADE поддерживает мобильность кода и 
% % мобильность состояния. То есть агент может остановить работу на хосте и 
% % мигрировать на другой удаленный хост (нет необходимости копировать код или 
% % устанавливать агента на  этом хосте заранее),  а затем возобновить исполнение с 
% % того места, где он был остановлен. Эта функциональность позволяет, к примеру, 
% % распределение вычислительной нагрузки в режиме исполнения путем перемещения 
% % агентов на менее загруженные машины без какого-либо воздействия на приложение.
% % 
% % Платформа также содержит службу имен (которая проверяет, что каждый агент имеет 
% % уникальное имя) и службу «желтых страниц», которая может быть распределена по 
% % нескольким хостам. Можно создать графы федерации, чтобы определить организованные 
% % области агентных служб.  Другая очень важная функция заключается в доступности 
% % богатого набора графических инструментов, поддерживающих и стадию отладки, и 
% % стадию управления\slash наблюдения жизненного цикла приложения.  Посредством 
% % этих инструментов стало возможно удалённо управлять агентами (даже в том случае, 
% % когда они уже развернуты и запущены).
% 
% % {\singlespacing
% % \begin{table}[h!]
% % \caption{Основные характеристики платформы JADE}
% % \begin{tabularx}{\textwidth}{lX}
% % \toprule
% % Название & \hangindent=.7cm JADE~--- Java Agent Development Framework
% % Разработчик & \hangindent=.7cm http://jade.tilab.com/
% % Язык & \hangindent=.7cm Java
% % Соответствие FIPA & \hangindent=.7cm Полное
% % Графический интерфейс разработки & \hangindent=.7cm есть
% % Миграция запущенных агентов & есть 
% % 
% % \bottomrule
% % \end{tabularx}
% % \label{tab:JADE-spec}
% % \end{table}}
% % 
% % % Название        JADE – Java Agent Development Framework
% % % Разработчик     TILAB
% % % Сайт    http://jade.tilab.com/
% % % Язык    Java: J2EE, J2SE, J2ME CLDC/MIDP1.0 platforms
% % Технические/функциональные характеристики       Распределенные, многосторонние приложения с коммуникациями «peer-to-peer»  Соответствие стандарту FIPA Управление жизненным циклом агента Службы «белые страниц» и «желтых страниц» с возможностью создания графов федераций в онлайн режиме Графические инструменты, поддерживающие стадии отладки, управления, мониторинга Поддержка миграции агентного кода и запущенного состояния Поддержка сложных протоколов взаимодействия(например, contract-net) Поддержка создания  и управления контентом сообщений, в т.ч. в формате XML и RDF Поддержка интеграции со страницами JSP Поддержка безопасности на уровне приложения (на данный момент – только для платформы J2SE) Возможность выбора транспортных протоколов в режиме исполнения Доступные транспортные протоколы: JAVA-RMI,  JICP(используется по-умолчанию),  HTTP и IIOP
% % Сетевое окружение       Проведены испытания на базе  Bluetooth, GPRS, W-LAN,  Internet.
% % Терминалы       Все терминалы, поддерживающие среду Java MIDP 1.0, или Personal Java, или J2SE.
% 
% \subsection{Repast}
% 
% Repast (Recursive Porus Agent Simulation Toolkit\footnote{англ.
% \emph{Инструментарий моделирования разреженных рекурсивных агентов.}})~--- многофункциональная
% МП проектирования многоагентных систем.Программный комплекс
% Repast перенял много идей от инструментального средства  Swarm (Swarm~--- это
% инструментальная система моделирования на основе агентов, написанная на языке Objective C). Платформа Repast
% имеет различные реализации для моделирования с использованием различных
% языков программирования.
% 
% Прикладная библиотека Repast~--- бесплатное инструментальное средство с
% открытым исходным кодом. Repast поддерживает разработку чрезвычайно гибких
% многоагентных систем, ориентированных в первую очередь на развитую систему 
% межагентного взаимодействия.
% 
% На сегодняшний день созданы три реализации инструментария Repast: для  языка
% программирования Java (Repast J), для платформы Microsoft .NET (Repast.NET) и
% Repast для интерпретируемого языка Python (Repast Py).
% 
% МП Repast поддерживает большое количество различных  функций, в том числе:
% \begin{itemize}
% \item В стандартную библиотеку входит большое количество шаблонов агентов, но
%     несмотря на это инженеру по знаниям предоставляется полный набор инструментов по настройке и
%     конфигурированию проектируемых агентов. Это позволяет достичь высокой гибкости и
%     минимизировать объём программного кода.
% \item Платформа полностью соответствует базовым принципам разработки объектно-ориентированных
%     систем.
% \item Repast включает в себя планировщик  дискретных событий, поддерживающий как
% последовательные, так и параллельные операции.
% \item Наличие графических инструментов разработки, симуляции и визуализации
%     работы агентной системы.
% \item Возможность динамически просматривать и изменять свойства,
%     поведение, а также модели свойств агентов.
% \item В состав Repast входят модули разработки генетических алгоритмов, нейронных
%     сетей, генерации случайных чисел и специализированных математических выражений
%     и встроенные средства моделирования динамики многоагентных систем.
% \item Все инструментальные средства Repast поддерживает работу с операционными
%     системами Windows, Mac OS, Linux. Она может работать как на персональных
%     компьютерах, так  и на масштабных научных вычислительных кластерах.
% \end{itemize}
% 
% 
% С 2007 года состав инструментария Repast расширился включением в него пакета
% Repast Symphony (Repast S), основанного на Repast. Repast S существенно расширяет
% базовые возможности агентной платформы, предоставляя среду разработки моделей и
% среду исполнения.
% 
% Также к  возможностям Repast S можно отнести:
% \begin{itemize}
% \item Совместное использования языков Java, Groovy, Python, .Net.
% \item Возможность интеграции с множеством сторонних пакетов, включая \E{R~sta\-tistics
%     environment}~\cite{Heiberger-2004}, плагин для работы с SQL-запросами, 
%     подключаемые модули анализа трафика *ORA~\cite{Carley-2009} и Pajek~\cite{Batagelj-2003}, инженерный
%     пакет визуализации VisAD~\cite{Hibbard-2005}, платформа интеллектуального
%     анализа данных Weka~\cite{Hall-2009}, многие популярные форматы электронных
%     таблиц, вычислительная математическая среда MATLAB, дизайнер визуальных
%     отчётов iReport~\cite{Ahammad-2010}.
% \item Моделирование трехмерных сред
% \item Интеграция с библиотекой сетевого моделирования JUNG~\cite{Madadhain-2005}.
% \item Импорт данных  из электронных таблиц Microsoft Excel.
% \item Поддержка сквозной имитация XML.
% \item Распределённые вычисления с помощью пакета Terracotta~\cite{Cicirelli-2011}.
% 
% \end{itemize}
% 
% Инструментарий Repast S, в первую очередь представляет удобный графический интерфейс
% моделирования. Интерфейс среды исполнения Repast S (\autoref{fig:repast}) создан на основе каркаса \E{Simphony
% Application Framework} (SAF). SAF~--- это интегрированная платформа разработки
% %
% \begin{figure}[b!]
%     \centering
%     \includegraphics[width=\textwidth]{repast.png}
%     \caption[Графический интерфейс среды Repast S]
%             {Графический интерфейс среды Repast S}
%     \label{fig:repast}
% \end{figure}
% %
% приложений, созданная с целью упростить программирование
% графических настольных приложений.
% % Набор шаблонов  SAF реализует функцию
% % управления жизненным циклом и содержит другие полезные инструменты, такие как
% % плавающие окна и \mbox{вкладки}.
% % 
% % МП Repast S содержит новые функции для определения поведения агента и возможность
% % динамической сборки компонентов модели из обычных объектов Java, задаваемых
% % пользователем. Тем не менее, следует отметить, что для создания таких объектов
% % может использоваться и любой другой метод (начиная от прямого кодирования до
% % создания классов-оберток (wrappers) над готовыми сторонними компонентами,
% % установлением связей с распределенными информационными системами).
% 
% % \subsubsection{Аннотации и настройки}
% % 
% % Программист, работающий с МП Repast S может использовать аннотации языка
% % Java. Аннотации~--- это тэги метаданных, которые компилируются в файлы бинарного
% % класса. Аннотации не выполняются также как код, поэтому похожи на обычные
% % комментарии Java. Однако, в отличие от комментариев, аннотации хранятся в 
% % скомпилированных бинарных файлах. Это позволяет выполняющимся программам Java
% % получать метаданные и использовать их в работе. Т.\,е. в процессе проектирования
% % разработчики могут явно помечать (или аннотировать) код для специальной обработки
% % средой исполнения Repast S. Данная функциональность используется, к примеру, для
% % создания т.\,н. <<сторожевого таймера>> (watchdog). Используя данную функциональность
% % можно создать агента, который будет активизироваться всякий раз, когда
% % меняется какой-либо атрибут ближайшего к нему агента, т.\,е. можно будет реализовать
% % механизм \emph{поиска по необходимости}. Например, агент, связанный с системой
% % управления ресурсами инструментального склада будет динамически отслеживать
% % распределение инструмента по участкам, предотвращая перерасход инструмента. 
% % 
% % МП Repast S использует два основных типа настроек:
% % \begin{itemize}
% % \item\emph{Дескрипторы модели}, определяющие, что может содержаться в
% %     модели (типы агентов, допустимые связи между агентами, наблюдаемая информация).
% % \item\emph{Дескрипторы сценариев}, определяющие реальное содержимое модели:
% %     источники данных, визуализации, протоколирование.
% % \end{itemize}
% % 
% % Оба набора параметров хранятся в файлах XML. Дескрипторы модели создаются во
% % время её разработки, а дескрипторы сценариев создаются во время исполнения.
% % Интегрированная среда разработки Repast S предоставляет удобные графические инструменты 
% % проектирования и редактирования дескрипторов модели.
% 
% % \subsubsection{Базовые инструменты моделирования}
% % 
% % Помимо средств общего назначения (упоминавшихся выше) среда разработки Repast S
% % содержит множество специальных инструментов поддержки. Рассмотрим некоторые из 
% % них более подробно.
% % 
% %     \emph{\bfseries Контексты} Базовая структура данных в Repast S называется контекстом.
% %     Контекс~--- это просто контейнер, представляющий собой некоторое подобие
% %     математического множества. В контекст может быть помещен объект любого типа
% %     с оговоркой, что в контексте может содержаться только один экземпляр любого
% %     объекта. С точки зрения моделирования, контекст представляет абстрактную
% %     группу. Объекты в контексте являются элементами группы модели. Необходимо
% %     отметить, что контекст не предоставляет никакого механизма для
% %     взаимодействия между агентами модели. Тем не менее, он обеспечивает базовую
% %     инфраструктуру для определения группы и характера взаимодействий в ней.
% %     Т.\,е. контекст формирует многоагентуную среду (\autoref{sec:formal-mae}).
% % 
% %     Каждый контекст обладает своим собственным состоянием. Это состояние может
% %     содержать данные различных типов. В состоянии контекста могут содержаться
% %     простые значения, например, время, либо более сложные структуры даннных:
% %     многомерные поля, массивы и т.\,д.
% % 
% %     %%\phantom{\textcolor{white}{пыщ пыщ ололо не надо 
% % %     искать текст здесь}}
% % 
% %     Контексты могут содержать подконтексты.  Т.\,е. контексты при необходимости
% %     могут быть разделены на подкомпоненты в соответствии с принципом холонической
% %     декомпозиции (\autoref{sec:holomerge}). Членство в контекстах наследуется,
% %     т.\,е., если объект является элементом подконтекста, то, очевидно, что он
% %     является и элементом родительского контекста. Каждый подконтекст
% %     находится в своём собственном состояние, не зависящим от состояния родительского
% %     контекста. По аналогии с МС, агенты могут перемещаться между различными
% %     контекстами\slash подконтекстами.
% % 
% % \emph{\bfseries Проекции} Проекциями называются специальные структуры данных,
% % определяющие и обеспечивающие коммуникации между агентами внутри заданного
% % контекста.
% % 
% % Проекции формируют новую структуру в рамках заданной группы контекста. Данная 
% % структура определяет и обеспечивает связи в группе агентов, используя семантику,
% % заданную в проекции. C практической точки зрения это означает, что проекции
% % добавляются в контекст  для того, чтобы обеспечить взаимодействие агентов
% % внутри платформы. В одном контексте может быть сразу несколько проекций, из чего
% % следует, что агенты могут образовать произвольное количество типов связей.
% % Каждая проекция может взаимодействовать с любыми объектами. Для того чтобы
% % работать с проекциями не требуется изменений кода агента, проекции создаются
% % независимо от агентов. Модель создания проекций является гибкой, поиск связей
% % между объектами или связанных элементов осуществляется специальными поисковыми
% % объектами. Эти объекты специализируются на конкретных типах проекций.
% % Тем не менее, все поисковые объекты реализуют один и тот же интерфейс, который
% % возвращает список объектов, которые удовлетворяет критерию определенного
% % контекста. Поисковые объекты могут объединятся и образовывать новые запросы
% % произвольной сложности. Например, можно создать запрос к контексту, используя
% % различные содержащиеся в нем проекции или атрибуты объектов. Аналогично, создав
% % базовые набор запросов, соединив их с анализатором выражений, разработчик модели,
% % не модифицируя код, может создать систему, в которой множества связей,
% % запрашиваемых агентами, могут быть созданы и реорганизованы при помощи
% % декларативного языка запросов.
% 
% 
% % Рисунок 19. Контекст, содержащий агентов (слева), проекции (сеть, карту, сетку - справа), подконтекст (внизу)
% % Контекстно-зависимое поведение
% % 
% % Контексты предоставляют способ создания  и поддержки среды с популяцией. Проекции позволяют определить широкий спектр  связей при помощи объектов Queries. Однако они не учитывают поведение протоагентов или то, как протоагенты будут использовать информацию, полученную из контекста и его проекций. Локализованное поведение – это поведение, которое протоагент проявляет только в определенных условиях. Эти условия определяются контекстом, в который помещен протоагент.
% % 
% % Для того чтобы реализовать контекстно-зависимое поведение протоагентов, создаются «часовые» или триггеры. Проектировщик определяет конкретные условия для выполнения определенного поведения. Эти условия  учитываются «часовым».  Используя «часовых» дизайнер может изменять поведение протоагента в зависимости от контекста и обстоятельств.
% % Название        Repast – Recursive Porous Agent Simulation Toolkit, Repast Symphony
% % Разработчик     Argonne National Laboratory
% % Сайт    http://repast.sourceforge.net/
% % Язык    Java: J2EE, J2SE, Groovy, Python, семейство языков платформы .NET(C Sharp, VB и др.)
% % Технические/функциональные характеристики       
% % 
% %     Планировщик событий (выполняет последовательные, параллельные операции с дискретными событиями)
% %     Встроенные средства записи результатов(в текстовые файлы, в файлы формата XML)
% %     Используются методы Монте-Карло
% %     Поддержка двухмерных, трехмерных визуализаций
% %     Динамическое управление агентами во время выполнения
% %     Библиотеки генетических алгоритмов, нейронных сетей, генерации случайных чисел, спец. мат. выражений
% %     Встроенные средства моделирования системной динамики
% %     Инструменты для моделированиясоциальных сетей
% %     Поддержка геоинформационных систем
% %     Операционные системы: Windows, Mac OS, Linux
% %     Работа как на персональных компьютерах, так и на научных вычислительных кластерах
% %     Моделирование при помощи блок-схем
% %     Поддержка Java, Groovy
% %     Интеграция с множеством различных внешних утилит, включая  R statistics environment, подключаемые модули анализа трафика *ORA и Pajek, плагин для работы с SQL-запросами, инженерный пакет визуализации VisAD, платформа интеллектуального анализа данных Weka, многие популярные форматы электронных таблиц, вычислительная математическая среда MATLAB, дизайнер визуальных отчетов iReport;
% %     интеграция с библиотекой сетевого моделирования JUNG
% %     импорт данных  из  электронных таблиц Microsoft Excel, файлов UCINET DL
% %     Опциональное сквозное моделирование на базе XML
% %     Распределенные вычисления с помощью продукта  Terracotta
% % 
% % Сетевое окружение       –
% % Терминалы       Все терминалы, поддерживающие среду J2SE, Groovy либо содержащие интерпретатор языка Python, либо установленную платформу .NET
% % 
% % Таблица 3. Основные технические характеристики инструментария Repast, Repast S
% % Средство мультиагентного моделирования MASON
% 
% \subsection{SPADE}
% \label{sec:spade}
% 
% SPADE (Smart Python multi-Agent Development Environment\footnote{англ.
% \emph{Среда разработки интеллектуальных многоагентных систем на языке Python.}})~---
% представляет собой прикладную инструментальную библиотеку для проектирования
% МАС на базе \emph{Расширяемого протокола обмена сообщениями и информацией о
% присутствии} (Extensible Messaging and Presence Protocol~--- XMPP).
% \nomenclature{XMPP}{Extensible Messaging and Presence Protocol}
% Библиотека полностью реализована на языке Python, что делает её очень гибкой
% и легко настраиваемой для любой проектируемой МАС, в\,т.\,ч. технологического
% назначения.
% 
% К основным особенностям МП SPADE можно отнести:
% %
% \begin{itemize}
% \item Полное соответствие стандартам проектирования FIPA.
% \item Реализация четырёх протоколов межагентного взаимодействия: XMPP, P2P, HTTP и SIMBA.
% \item Поддержка двух языков описания содержимого: FIPA-ACL и RDF.\footnote{англ. \emph{Resource Description Framework}~--- это разработанная \emph{Консорциумом всемирной паутины} (World Wide Web Consortium~--- W3C) модель для представления данных, в особенности~--- метаданных. RDF представляет утверждения о ресурсах в виде, пригодном для машинной обработки~\cite{Powers-2003}.}
% \item Агенты SPADE достигают своих целей посредством инициирования делиберативных
%     или реактивных процессов.
% \item SPADE предоставляет удобный web-интерфейс для управления платформой.
% \item Платформа SPADE имеет все возможности для интеграции с другими многоагентными
%     платформами, созданными на любых языках программирования и работающие под
%     управлением любых ОС.
% \item Наличие подсистемы уведомлений позволяет системе определять текущее
%     состояние всех агентов в реальном времени.
% \item Платформа SPADE позволяет объединять агентов в т.\,н. \emph{организации}
%     для решения непересекающихся задач, что даёт возможность создавать на её
%     основе сложные агент-холонические системы управления ТПП (\autoref{sec:HMS}).
% \end{itemize}
% 
% \subsubsection{Архитектурная модель}
% 
% Архитектурная модель МП SPADE представлена на~\autoref{fig:spade}.
% \begin{figure}[h!]
%     \centering
%     \includegraphics[width=\textwidth]{spade.eps}
%     \caption[Архитектура платформы SPADE]
%             {Архитектура платформы SPADE}
%     \label{fig:spade}
% \end{figure}
% %
% Не трудно заметить, что эта архитектура не требует, чтобы все агенты
% МАС создавались с помощью библиотеки SPADE. Платформа лишь представляет инструменты
% взаимодействия агентов внутри МАС и даёт возможность интеграции с другими
% платформами, соответствующими стандартам FIPA. Единственное требование: наличие
% специализированного адаптера, дающего возможность сторонним агентам работать
% с сообщениями инкапсулированными по протоколу XMPP.
% 
% Как уже было отмечено выше, всё взаимодействие агентов на уровне платформы 
% осуществляется по протоколу XMPP. Изначально этот протокол использовался
% для организации сервисов передачи коротких сообщений. На сегодняшний день
% он находит все более широкое применение в любых системах, где требуется
% оперативный обмен информацией в режиме, близкому к режиму реального времени. 
% 
% \subsection{Сравнительный анализ рассмотренных средств проектирования МП}
% 
% Резюмируя всё вышесказанное, следует отметить, что все исследованные МП
% подходят для разработки многоагентной ИУП ТПП. Однако, каждое из рассмотренных
% инструментальных средств имеет свою специфику, см.~\autoref{tab:map}.
% %
% {\singlespacing
% \begin{table}[h!]
% \caption[Основные характеристики исследуемых МП]{Основные характеристики исследуемых многоагентных платформ}
% \begin{tabularx}{\textwidth}{X|XXX}
% \toprule
% \diaghead(-5,2){\hskip\hsize}{\normalsize Хар-ка}{\normalsize МП} & \centering JADE & \centering REPAST & \centering SPADE \tabularnewline
% \midrule
% 
% \centering Поддерживаемые языки  &
% \centering Java (J2EE, J2SE,\\J2ME) &
% \centering\small Java (J2EE, J2SE,\\Groovy), Python,\\.Net (C\#, VB~и~др.) &
% \centering Python
% \tabularnewline
% \tabularnewline
% 
% \centering Совместимость с FIPA  &
% \centering Полная &
% \centering Полная &
% \centering Полная
% \tabularnewline
% \tabularnewline
% 
% \centering Графический интерфейс &
% \centering Отсутствует &
% \centering Интегрированная среда &
% \centering Web-интерфейс
% \tabularnewline
% \tabularnewline
% 
% \centering Область применения &
% \centering Крупные телекоммуникационные МАС &
% \centering Быстрое прототипирование МАС &
% \centering Создание гибких, легкоинтегрируемых МАС
% \tabularnewline
% 
% \bottomrule
% \end{tabularx}
% \label{tab:map}
% \end{table}}
% 
% Платформа JADE на сегодняшний
% день является самой комплексной и проработанной системой построения МАС.
% Она идеально подходит для разработки крупных технологических систем на предприятиях
% со сложной организационной структурой, имеющей отраслевые подразделения и
% региональные филиалы. Данная система может стать единой телекоммуникационной
% платформой не только для интеграции АСТПП, но и других информацион\-ных и управляющих
% систем предприятия. Подобная функциональность явно избыточна для решения задач,
% являющихся предметом представленного исследования, ведь одна из его целей~---
% создание максимально простой, быстровнедряемой многоагентной и легкорасширяемой технологической
% системы, ориентированной в первую очередь на специалистов, не обладающих
% глубокими специальными знаниями в области программирования комплексных распределённых
% систем.
% 
% Удобный графический интерфейс и большое количество поддерживаемых языков разработки МП Repast,
% безусловно, является её огромным плюсом. Но, с другой стороны, данная система
% больше направлена на моделирование и планирование МАС, а не на промышленное 
% использование, что ставит её в один ряд с такими популярными системами моделирования как
% Adonis или Rational Rose.
% 
% МП SPADE сочетает в себе лучшие черты двух предыдущих систем. С одной стороны,
% это гибкая и расширяемая система, написанная на языке Python (этот язык по праву
% считается наиболее лёгким для использования непрофессиональными программистами),
% а с другой~--- в ней реализованы все основные функции, присущие промышленной
% МП. По мнению автора именно платформа SPADE является наиболее предпочтительной
% для разработки многоагентной ИУП ТПП.
% 
% \section{Выводы к третьей главе}
% 
% В данной главе был сделан краткий обзор инструментальных средств построения
% многоагентных систем. 


